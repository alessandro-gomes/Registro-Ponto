{"ast":null,"code":"import { Handler } from '../../core/Handler';\nimport * as DomUtil from '../../dom/DomUtil';\nimport { Draggable } from '../../dom/Draggable';\nimport { toBounds } from '../../geometry/Bounds';\nimport { toPoint } from '../../geometry/Point';\nimport { requestAnimFrame, cancelAnimFrame } from '../../core/Util';\n\n/*\n * L.Handler.MarkerDrag is used internally by L.Marker to make the markers draggable.\n */\n\n/* @namespace Marker\n * @section Interaction handlers\n *\n * Interaction handlers are properties of a marker instance that allow you to control interaction behavior in runtime, enabling or disabling certain features such as dragging (see `Handler` methods). Example:\n *\n * ```js\n * marker.dragging.disable();\n * ```\n *\n * @property dragging: Handler\n * Marker dragging handler (by both mouse and touch). Only valid when the marker is on the map (Otherwise set [`marker.options.draggable`](#marker-draggable)).\n */\n\nexport var MarkerDrag = Handler.extend({\n  initialize: function (marker) {\n    this._marker = marker;\n  },\n  addHooks: function () {\n    var icon = this._marker._icon;\n    if (!this._draggable) {\n      this._draggable = new Draggable(icon, icon, true);\n    }\n    this._draggable.on({\n      dragstart: this._onDragStart,\n      predrag: this._onPreDrag,\n      drag: this._onDrag,\n      dragend: this._onDragEnd\n    }, this).enable();\n    DomUtil.addClass(icon, 'leaflet-marker-draggable');\n  },\n  removeHooks: function () {\n    this._draggable.off({\n      dragstart: this._onDragStart,\n      predrag: this._onPreDrag,\n      drag: this._onDrag,\n      dragend: this._onDragEnd\n    }, this).disable();\n    if (this._marker._icon) {\n      DomUtil.removeClass(this._marker._icon, 'leaflet-marker-draggable');\n    }\n  },\n  moved: function () {\n    return this._draggable && this._draggable._moved;\n  },\n  _adjustPan: function (e) {\n    var marker = this._marker,\n      map = marker._map,\n      speed = this._marker.options.autoPanSpeed,\n      padding = this._marker.options.autoPanPadding,\n      iconPos = DomUtil.getPosition(marker._icon),\n      bounds = map.getPixelBounds(),\n      origin = map.getPixelOrigin();\n    var panBounds = toBounds(bounds.min._subtract(origin).add(padding), bounds.max._subtract(origin).subtract(padding));\n    if (!panBounds.contains(iconPos)) {\n      // Compute incremental movement\n      var movement = toPoint((Math.max(panBounds.max.x, iconPos.x) - panBounds.max.x) / (bounds.max.x - panBounds.max.x) - (Math.min(panBounds.min.x, iconPos.x) - panBounds.min.x) / (bounds.min.x - panBounds.min.x), (Math.max(panBounds.max.y, iconPos.y) - panBounds.max.y) / (bounds.max.y - panBounds.max.y) - (Math.min(panBounds.min.y, iconPos.y) - panBounds.min.y) / (bounds.min.y - panBounds.min.y)).multiplyBy(speed);\n      map.panBy(movement, {\n        animate: false\n      });\n      this._draggable._newPos._add(movement);\n      this._draggable._startPos._add(movement);\n      DomUtil.setPosition(marker._icon, this._draggable._newPos);\n      this._onDrag(e);\n      this._panRequest = requestAnimFrame(this._adjustPan.bind(this, e));\n    }\n  },\n  _onDragStart: function () {\n    // @section Dragging events\n    // @event dragstart: Event\n    // Fired when the user starts dragging the marker.\n\n    // @event movestart: Event\n    // Fired when the marker starts moving (because of dragging).\n\n    this._oldLatLng = this._marker.getLatLng();\n\n    // When using ES6 imports it could not be set when `Popup` was not imported as well\n    this._marker.closePopup && this._marker.closePopup();\n    this._marker.fire('movestart').fire('dragstart');\n  },\n  _onPreDrag: function (e) {\n    if (this._marker.options.autoPan) {\n      cancelAnimFrame(this._panRequest);\n      this._panRequest = requestAnimFrame(this._adjustPan.bind(this, e));\n    }\n  },\n  _onDrag: function (e) {\n    var marker = this._marker,\n      shadow = marker._shadow,\n      iconPos = DomUtil.getPosition(marker._icon),\n      latlng = marker._map.layerPointToLatLng(iconPos);\n\n    // update shadow position\n    if (shadow) {\n      DomUtil.setPosition(shadow, iconPos);\n    }\n    marker._latlng = latlng;\n    e.latlng = latlng;\n    e.oldLatLng = this._oldLatLng;\n\n    // @event drag: Event\n    // Fired repeatedly while the user drags the marker.\n    marker.fire('move', e).fire('drag', e);\n  },\n  _onDragEnd: function (e) {\n    // @event dragend: DragEndEvent\n    // Fired when the user stops dragging the marker.\n\n    cancelAnimFrame(this._panRequest);\n\n    // @event moveend: Event\n    // Fired when the marker stops moving (because of dragging).\n    delete this._oldLatLng;\n    this._marker.fire('moveend').fire('dragend', e);\n  }\n});","map":{"version":3,"names":["Handler","DomUtil","Draggable","toBounds","toPoint","requestAnimFrame","cancelAnimFrame","MarkerDrag","extend","initialize","marker","_marker","addHooks","icon","_icon","_draggable","on","dragstart","_onDragStart","predrag","_onPreDrag","drag","_onDrag","dragend","_onDragEnd","enable","addClass","removeHooks","off","disable","removeClass","moved","_moved","_adjustPan","e","map","_map","speed","options","autoPanSpeed","padding","autoPanPadding","iconPos","getPosition","bounds","getPixelBounds","origin","getPixelOrigin","panBounds","min","_subtract","add","max","subtract","contains","movement","Math","x","y","multiplyBy","panBy","animate","_newPos","_add","_startPos","setPosition","_panRequest","bind","_oldLatLng","getLatLng","closePopup","fire","autoPan","shadow","_shadow","latlng","layerPointToLatLng","_latlng","oldLatLng"],"sources":["C:/Users/aless/OneDrive/√Årea de Trabalho/Registro Ponto front-end GitHub/ReactProjects/my-app/node_modules/leaflet/src/layer/marker/Marker.Drag.js"],"sourcesContent":["import {Handler} from '../../core/Handler';\nimport * as DomUtil from '../../dom/DomUtil';\nimport {Draggable} from '../../dom/Draggable';\nimport {toBounds} from '../../geometry/Bounds';\nimport {toPoint} from '../../geometry/Point';\nimport {requestAnimFrame, cancelAnimFrame} from '../../core/Util';\n\n/*\n * L.Handler.MarkerDrag is used internally by L.Marker to make the markers draggable.\n */\n\n\n/* @namespace Marker\n * @section Interaction handlers\n *\n * Interaction handlers are properties of a marker instance that allow you to control interaction behavior in runtime, enabling or disabling certain features such as dragging (see `Handler` methods). Example:\n *\n * ```js\n * marker.dragging.disable();\n * ```\n *\n * @property dragging: Handler\n * Marker dragging handler (by both mouse and touch). Only valid when the marker is on the map (Otherwise set [`marker.options.draggable`](#marker-draggable)).\n */\n\nexport var MarkerDrag = Handler.extend({\n\tinitialize: function (marker) {\n\t\tthis._marker = marker;\n\t},\n\n\taddHooks: function () {\n\t\tvar icon = this._marker._icon;\n\n\t\tif (!this._draggable) {\n\t\t\tthis._draggable = new Draggable(icon, icon, true);\n\t\t}\n\n\t\tthis._draggable.on({\n\t\t\tdragstart: this._onDragStart,\n\t\t\tpredrag: this._onPreDrag,\n\t\t\tdrag: this._onDrag,\n\t\t\tdragend: this._onDragEnd\n\t\t}, this).enable();\n\n\t\tDomUtil.addClass(icon, 'leaflet-marker-draggable');\n\t},\n\n\tremoveHooks: function () {\n\t\tthis._draggable.off({\n\t\t\tdragstart: this._onDragStart,\n\t\t\tpredrag: this._onPreDrag,\n\t\t\tdrag: this._onDrag,\n\t\t\tdragend: this._onDragEnd\n\t\t}, this).disable();\n\n\t\tif (this._marker._icon) {\n\t\t\tDomUtil.removeClass(this._marker._icon, 'leaflet-marker-draggable');\n\t\t}\n\t},\n\n\tmoved: function () {\n\t\treturn this._draggable && this._draggable._moved;\n\t},\n\n\t_adjustPan: function (e) {\n\t\tvar marker = this._marker,\n\t\t    map = marker._map,\n\t\t    speed = this._marker.options.autoPanSpeed,\n\t\t    padding = this._marker.options.autoPanPadding,\n\t\t    iconPos = DomUtil.getPosition(marker._icon),\n\t\t    bounds = map.getPixelBounds(),\n\t\t    origin = map.getPixelOrigin();\n\n\t\tvar panBounds = toBounds(\n\t\t\tbounds.min._subtract(origin).add(padding),\n\t\t\tbounds.max._subtract(origin).subtract(padding)\n\t\t);\n\n\t\tif (!panBounds.contains(iconPos)) {\n\t\t\t// Compute incremental movement\n\t\t\tvar movement = toPoint(\n\t\t\t\t(Math.max(panBounds.max.x, iconPos.x) - panBounds.max.x) / (bounds.max.x - panBounds.max.x) -\n\t\t\t\t(Math.min(panBounds.min.x, iconPos.x) - panBounds.min.x) / (bounds.min.x - panBounds.min.x),\n\n\t\t\t\t(Math.max(panBounds.max.y, iconPos.y) - panBounds.max.y) / (bounds.max.y - panBounds.max.y) -\n\t\t\t\t(Math.min(panBounds.min.y, iconPos.y) - panBounds.min.y) / (bounds.min.y - panBounds.min.y)\n\t\t\t).multiplyBy(speed);\n\n\t\t\tmap.panBy(movement, {animate: false});\n\n\t\t\tthis._draggable._newPos._add(movement);\n\t\t\tthis._draggable._startPos._add(movement);\n\n\t\t\tDomUtil.setPosition(marker._icon, this._draggable._newPos);\n\t\t\tthis._onDrag(e);\n\n\t\t\tthis._panRequest = requestAnimFrame(this._adjustPan.bind(this, e));\n\t\t}\n\t},\n\n\t_onDragStart: function () {\n\t\t// @section Dragging events\n\t\t// @event dragstart: Event\n\t\t// Fired when the user starts dragging the marker.\n\n\t\t// @event movestart: Event\n\t\t// Fired when the marker starts moving (because of dragging).\n\n\t\tthis._oldLatLng = this._marker.getLatLng();\n\n\t\t// When using ES6 imports it could not be set when `Popup` was not imported as well\n\t\tthis._marker.closePopup && this._marker.closePopup();\n\n\t\tthis._marker\n\t\t\t.fire('movestart')\n\t\t\t.fire('dragstart');\n\t},\n\n\t_onPreDrag: function (e) {\n\t\tif (this._marker.options.autoPan) {\n\t\t\tcancelAnimFrame(this._panRequest);\n\t\t\tthis._panRequest = requestAnimFrame(this._adjustPan.bind(this, e));\n\t\t}\n\t},\n\n\t_onDrag: function (e) {\n\t\tvar marker = this._marker,\n\t\t    shadow = marker._shadow,\n\t\t    iconPos = DomUtil.getPosition(marker._icon),\n\t\t    latlng = marker._map.layerPointToLatLng(iconPos);\n\n\t\t// update shadow position\n\t\tif (shadow) {\n\t\t\tDomUtil.setPosition(shadow, iconPos);\n\t\t}\n\n\t\tmarker._latlng = latlng;\n\t\te.latlng = latlng;\n\t\te.oldLatLng = this._oldLatLng;\n\n\t\t// @event drag: Event\n\t\t// Fired repeatedly while the user drags the marker.\n\t\tmarker\n\t\t    .fire('move', e)\n\t\t    .fire('drag', e);\n\t},\n\n\t_onDragEnd: function (e) {\n\t\t// @event dragend: DragEndEvent\n\t\t// Fired when the user stops dragging the marker.\n\n\t\t cancelAnimFrame(this._panRequest);\n\n\t\t// @event moveend: Event\n\t\t// Fired when the marker stops moving (because of dragging).\n\t\tdelete this._oldLatLng;\n\t\tthis._marker\n\t\t    .fire('moveend')\n\t\t    .fire('dragend', e);\n\t}\n});\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}