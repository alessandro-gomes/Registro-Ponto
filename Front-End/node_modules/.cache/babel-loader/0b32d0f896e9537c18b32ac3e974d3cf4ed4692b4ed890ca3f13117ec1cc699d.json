{"ast":null,"code":"import React, { Component, useState, useEffect, useRef } from 'react';\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n  return target;\n}\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  _setPrototypeOf(subClass, superClass);\n}\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n  return _setPrototypeOf(o, p);\n}\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n  return self;\n}\nfunction debounce(func, wait) {\n  var timeout;\n  return function () {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    var context = this;\n    clearTimeout(timeout);\n    timeout = setTimeout(function () {\n      return func.apply(context, args);\n    }, wait);\n  };\n}\nfunction parentHasClass(element, className) {\n  while (element) {\n    if (element.classList && element.classList.contains(className)) {\n      return true;\n    }\n    element = element.parentElement;\n  }\n  return false;\n}\nfunction parentPosition(element) {\n  var rect = element.getBoundingClientRect();\n  return {\n    x: rect.left,\n    y: rect.top\n  };\n}\nfunction osm(x, y, z) {\n  var s = String.fromCharCode(97 + (x + y + z) % 3);\n  return \"https://\" + s + \".tile.openstreetmap.org/\" + z + \"/\" + x + \"/\" + y + \".png\";\n}\nvar ANIMATION_TIME = 300;\nvar DIAGONAL_THROW_TIME = 1500;\nvar SCROLL_PIXELS_FOR_ZOOM_LEVEL = 150;\nvar MIN_DRAG_FOR_THROW = 40;\nvar CLICK_TOLERANCE = 2;\nvar DOUBLE_CLICK_DELAY = 300;\nvar DEBOUNCE_DELAY = 60;\nvar PINCH_RELEASE_THROW_DELAY = 300;\nvar WARNING_DISPLAY_TIMEOUT = 300;\nvar NOOP = function NOOP() {\n  return true;\n};\nvar lng2tile = function lng2tile(lon, zoom) {\n  return (lon + 180) / 360 * Math.pow(2, zoom);\n};\nvar lat2tile = function lat2tile(lat, zoom) {\n  return (1 - Math.log(Math.tan(lat * Math.PI / 180) + 1 / Math.cos(lat * Math.PI / 180)) / Math.PI) / 2 * Math.pow(2, zoom);\n};\nfunction tile2lng(x, z) {\n  return x / Math.pow(2, z) * 360 - 180;\n}\nfunction tile2lat(y, z) {\n  var n = Math.PI - 2 * Math.PI * y / Math.pow(2, z);\n  return 180 / Math.PI * Math.atan(0.5 * (Math.exp(n) - Math.exp(-n)));\n}\nfunction getMousePixel(dom, event) {\n  var parent = parentPosition(dom);\n  return [event.clientX - parent.x, event.clientY - parent.y];\n}\nfunction easeOutQuad(t) {\n  return t * (2 - t);\n}\nvar absoluteMinMax = [tile2lat(Math.pow(2, 10), 10), tile2lat(0, 10), tile2lng(0, 10), tile2lng(Math.pow(2, 10), 10)];\nvar hasWindow = typeof window !== 'undefined';\nvar performanceNow = hasWindow && window.performance && window.performance.now ? function () {\n  return window.performance.now();\n} : function () {\n  var timeStart = new Date().getTime();\n  return function () {\n    return new Date().getTime() - timeStart;\n  };\n}();\nvar requestAnimationFrame = function requestAnimationFrame(callback) {\n  if (hasWindow) {\n    return (window.requestAnimationFrame || window.setTimeout)(callback);\n  } else {\n    callback(new Date().getTime());\n    return null;\n  }\n};\nvar cancelAnimationFrame = function cancelAnimationFrame(animFrame) {\n  return hasWindow && animFrame ? (window.cancelAnimationFrame || window.clearTimeout)(animFrame) : false;\n};\nfunction srcSet(dprs, url, x, y, z) {\n  if (!dprs || dprs.length === 0) {\n    return '';\n  }\n  return dprs.map(function (dpr) {\n    return url(x, y, z, dpr) + (dpr === 1 ? '' : \" \" + dpr + \"x\");\n  }).join(', ');\n}\nvar ImgTile = function ImgTile(_ref) {\n  var tile = _ref.tile,\n    tileLoaded = _ref.tileLoaded;\n  return /*#__PURE__*/React.createElement(\"img\", {\n    src: tile.url,\n    srcSet: tile.srcSet,\n    width: tile.width,\n    height: tile.height,\n    loading: 'lazy',\n    onLoad: tileLoaded,\n    alt: '',\n    style: {\n      position: 'absolute',\n      left: tile.left,\n      top: tile.top,\n      willChange: 'transform',\n      transformOrigin: 'top left',\n      opacity: 1\n    }\n  });\n};\nvar Map = /*#__PURE__*/function (_Component) {\n  _inheritsLoose(Map, _Component);\n  function Map(props) {\n    var _ref2, _props$defaultZoom, _ref3, _props$defaultCenter, _ref4, _props$width, _ref5, _props$height;\n    var _this;\n    _this = _Component.call(this, props) || this;\n    _defineProperty(_assertThisInitialized(_this), \"_containerRef\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"_mousePosition\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"_loadTracker\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"_dragStart\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_mouseDown\", false);\n    _defineProperty(_assertThisInitialized(_this), \"_moveEvents\", []);\n    _defineProperty(_assertThisInitialized(_this), \"_lastClick\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_lastTap\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_lastWheel\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_touchStartPixel\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_touchStartMidPoint\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_touchStartDistance\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_secondTouchEnd\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_warningClearTimeout\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_isAnimating\", false);\n    _defineProperty(_assertThisInitialized(_this), \"_animationStart\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_animationEnd\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_zoomStart\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_centerTarget\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_zoomTarget\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_zoomAround\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_animFrame\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_boundsSynced\", false);\n    _defineProperty(_assertThisInitialized(_this), \"_minMaxCache\", null);\n    _defineProperty(_assertThisInitialized(_this), \"_lastZoom\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"_lastCenter\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"_centerStart\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"_resizeObserver\", null);\n    _defineProperty(_assertThisInitialized(_this), \"updateWidthHeight\", function () {\n      if (_this._containerRef) {\n        var rect = _this._containerRef.getBoundingClientRect();\n        if (rect && rect.width > 0 && rect.height > 0) {\n          _this.setState({\n            width: rect.width,\n            height: rect.height\n          });\n          return true;\n        }\n      }\n      return false;\n    });\n    _defineProperty(_assertThisInitialized(_this), \"wa\", function () {\n      var _window;\n      return (_window = window).addEventListener.apply(_window, arguments);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"wr\", function () {\n      var _window2;\n      return (_window2 = window).removeEventListener.apply(_window2, arguments);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"bindMouseEvents\", function () {\n      _this.wa('mousedown', _this.handleMouseDown);\n      _this.wa('mouseup', _this.handleMouseUp);\n      _this.wa('mousemove', _this.handleMouseMove);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"bindTouchEvents\", function () {\n      _this.wa('touchstart', _this.handleTouchStart, {\n        passive: false\n      });\n      _this.wa('touchmove', _this.handleTouchMove, {\n        passive: false\n      });\n      _this.wa('touchend', _this.handleTouchEnd, {\n        passive: false\n      });\n    });\n    _defineProperty(_assertThisInitialized(_this), \"unbindMouseEvents\", function () {\n      _this.wr('mousedown', _this.handleMouseDown);\n      _this.wr('mouseup', _this.handleMouseUp);\n      _this.wr('mousemove', _this.handleMouseMove);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"unbindTouchEvents\", function () {\n      _this.wr('touchstart', _this.handleTouchStart);\n      _this.wr('touchmove', _this.handleTouchMove);\n      _this.wr('touchend', _this.handleTouchEnd);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"bindResizeEvent\", function () {\n      _this.wa('resize', _this.updateWidthHeight);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"unbindResizeEvent\", function () {\n      _this.wr('resize', _this.updateWidthHeight);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"bindWheelEvent\", function () {\n      if (_this._containerRef) {\n        _this._containerRef.addEventListener('wheel', _this.handleWheel, {\n          passive: false\n        });\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"unbindWheelEvent\", function () {\n      if (_this._containerRef) {\n        _this._containerRef.removeEventListener('wheel', _this.handleWheel);\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"setCenterZoomTarget\", function (center, zoom, fromProps, zoomAround, animationDuration) {\n      if (fromProps === void 0) {\n        fromProps = false;\n      }\n      if (zoomAround === void 0) {\n        zoomAround = null;\n      }\n      if (animationDuration === void 0) {\n        animationDuration = ANIMATION_TIME;\n      }\n      if (_this.props.animate && (!fromProps || _this.distanceInScreens(center, zoom, _this.state.center, _this.state.zoom) <= _this.props.animateMaxScreens)) {\n        if (_this._isAnimating) {\n          cancelAnimationFrame(_this._animFrame);\n          var _this$animationStep = _this.animationStep(performanceNow()),\n            centerStep = _this$animationStep.centerStep,\n            zoomStep = _this$animationStep.zoomStep;\n          _this._centerStart = centerStep;\n          _this._zoomStart = zoomStep;\n        } else {\n          _this._isAnimating = true;\n          _this._centerStart = _this.limitCenterAtZoom([_this._lastCenter[0], _this._lastCenter[1]], _this._lastZoom);\n          _this._zoomStart = _this._lastZoom;\n          _this.onAnimationStart();\n        }\n        _this._animationStart = performanceNow();\n        _this._animationEnd = _this._animationStart + animationDuration;\n        if (zoomAround) {\n          _this._zoomAround = zoomAround;\n          _this._centerTarget = _this.calculateZoomCenter(_this._lastCenter, zoomAround, _this._lastZoom, zoom);\n        } else {\n          _this._zoomAround = null;\n          _this._centerTarget = center;\n        }\n        _this._zoomTarget = zoom;\n        _this._animFrame = requestAnimationFrame(_this.animate);\n      } else {\n        _this.stopAnimating();\n        if (zoomAround) {\n          var _center = _this.calculateZoomCenter(_this._lastCenter, zoomAround, _this._lastZoom, zoom);\n          _this.setCenterZoom(_center, zoom, fromProps);\n        } else {\n          _this.setCenterZoom(center || _this.state.center, zoom, fromProps);\n        }\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"setCenterZoomForChildren\", function (center, zoom) {\n      _this.setCenterZoomTarget(center || _this.state.center, zoom || _this.state.zoom, true);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"distanceInScreens\", function (centerTarget, zoomTarget, center, zoom) {\n      var _this$state = _this.state,\n        width = _this$state.width,\n        height = _this$state.height;\n      var l1 = _this.latLngToPixel(center, center, zoom);\n      var l2 = _this.latLngToPixel(centerTarget, center, zoom);\n      var z1 = _this.latLngToPixel(center, center, zoomTarget);\n      var z2 = _this.latLngToPixel(centerTarget, center, zoomTarget);\n      var w = (Math.abs(l1[0] - l2[0]) + Math.abs(z1[0] - z2[0])) / 2 / width;\n      var h = (Math.abs(l1[1] - l2[1]) + Math.abs(z1[1] - z2[1])) / 2 / height;\n      return Math.sqrt(w * w + h * h);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"animationStep\", function (timestamp) {\n      if (!_this._animationEnd || !_this._animationStart || !_this._zoomTarget || !_this._zoomStart || !_this._centerStart || !_this._centerTarget) {\n        return {\n          centerStep: _this.state.center,\n          zoomStep: _this.state.zoom\n        };\n      }\n      var length = _this._animationEnd - _this._animationStart;\n      var progress = Math.max(timestamp - _this._animationStart, 0);\n      var percentage = easeOutQuad(progress / length);\n      var zoomDiff = (_this._zoomTarget - _this._zoomStart) * percentage;\n      var zoomStep = _this._zoomStart + zoomDiff;\n      if (_this._zoomAround) {\n        var centerStep = _this.calculateZoomCenter(_this._centerStart, _this._zoomAround, _this._zoomStart, zoomStep);\n        return {\n          centerStep: centerStep,\n          zoomStep: zoomStep\n        };\n      } else {\n        var _centerStep = [_this._centerStart[0] + (_this._centerTarget[0] - _this._centerStart[0]) * percentage, _this._centerStart[1] + (_this._centerTarget[1] - _this._centerStart[1]) * percentage];\n        return {\n          centerStep: _centerStep,\n          zoomStep: zoomStep\n        };\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"animate\", function (timestamp) {\n      if (!_this._animationEnd || timestamp >= _this._animationEnd) {\n        _this._isAnimating = false;\n        _this.setCenterZoom(_this._centerTarget, _this._zoomTarget, true);\n        _this.onAnimationStop();\n      } else {\n        var _this$animationStep2 = _this.animationStep(timestamp),\n          centerStep = _this$animationStep2.centerStep,\n          zoomStep = _this$animationStep2.zoomStep;\n        _this.setCenterZoom(centerStep, zoomStep);\n        _this._animFrame = requestAnimationFrame(_this.animate);\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"stopAnimating\", function () {\n      if (_this._isAnimating) {\n        _this._isAnimating = false;\n        _this.onAnimationStop();\n        cancelAnimationFrame(_this._animFrame);\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"limitCenterAtZoom\", function (center, zoom) {\n      var minMax = _this.getBoundsMinMax(zoom || _this.state.zoom);\n      return [Math.max(Math.min(!center || isNaN(center[0]) ? _this.state.center[0] : center[0], minMax[1]), minMax[0]), Math.max(Math.min(!center || isNaN(center[1]) ? _this.state.center[1] : center[1], minMax[3]), minMax[2])];\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onAnimationStart\", function () {\n      _this.props.onAnimationStart && _this.props.onAnimationStart();\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onAnimationStop\", function () {\n      _this.props.onAnimationStop && _this.props.onAnimationStop();\n    });\n    _defineProperty(_assertThisInitialized(_this), \"setCenterZoom\", function (center, zoom, animationEnded) {\n      if (animationEnded === void 0) {\n        animationEnded = false;\n      }\n      var limitedCenter = _this.limitCenterAtZoom(center, zoom);\n      if (zoom && Math.round(_this.state.zoom) !== Math.round(zoom)) {\n        var tileValues = _this.tileValues(_this.state);\n        var nextValues = _this.tileValues({\n          center: limitedCenter,\n          zoom: zoom,\n          width: _this.state.width,\n          height: _this.state.height\n        });\n        var oldTiles = _this.state.oldTiles;\n        _this.setState({\n          oldTiles: oldTiles.filter(function (o) {\n            return o.roundedZoom !== tileValues.roundedZoom;\n          }).concat(tileValues)\n        }, NOOP);\n        var loadTracker = {};\n        for (var x = nextValues.tileMinX; x <= nextValues.tileMaxX; x++) {\n          for (var y = nextValues.tileMinY; y <= nextValues.tileMaxY; y++) {\n            var key = x + \"-\" + y + \"-\" + nextValues.roundedZoom;\n            loadTracker[key] = false;\n          }\n        }\n        _this._loadTracker = loadTracker;\n      }\n      _this.setState({\n        center: limitedCenter,\n        zoom: zoom || _this.state.zoom\n      }, NOOP);\n      var maybeZoom = _this.props.zoom ? _this.props.zoom : _this._lastZoom;\n      var maybeCenter = _this.props.center ? _this.props.center : _this._lastCenter;\n      if (zoom && (animationEnded || Math.abs(maybeZoom - zoom) > 0.001 || Math.abs(maybeCenter[0] - limitedCenter[0]) > 0.00001 || Math.abs(maybeCenter[1] - limitedCenter[1]) > 0.00001)) {\n        _this._lastZoom = zoom;\n        _this._lastCenter = [].concat(limitedCenter);\n        _this.syncToProps(limitedCenter, zoom);\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"getBoundsMinMax\", function (zoom) {\n      if (_this.props.limitBounds === 'center') {\n        return absoluteMinMax;\n      }\n      var _this$state2 = _this.state,\n        width = _this$state2.width,\n        height = _this$state2.height;\n      if (_this._minMaxCache && _this._minMaxCache[0] === zoom && _this._minMaxCache[1] === width && _this._minMaxCache[2] === height) {\n        return _this._minMaxCache[3];\n      }\n      var pixelsAtZoom = Math.pow(2, zoom) * 256;\n      var minLng = width > pixelsAtZoom ? 0 : tile2lng(width / 512, zoom);\n      var minLat = height > pixelsAtZoom ? 0 : tile2lat(Math.pow(2, zoom) - height / 512, zoom);\n      var maxLng = width > pixelsAtZoom ? 0 : tile2lng(Math.pow(2, zoom) - width / 512, zoom);\n      var maxLat = height > pixelsAtZoom ? 0 : tile2lat(height / 512, zoom);\n      var minMax = [minLat, maxLat, minLng, maxLng];\n      _this._minMaxCache = [zoom, width, height, minMax];\n      return minMax;\n    });\n    _defineProperty(_assertThisInitialized(_this), \"tileLoaded\", function (key) {\n      if (_this._loadTracker && key in _this._loadTracker) {\n        _this._loadTracker[key] = true;\n        var unloadedCount = Object.values(_this._loadTracker).filter(function (v) {\n          return !v;\n        }).length;\n        if (unloadedCount === 0) {\n          _this.setState({\n            oldTiles: []\n          }, NOOP);\n        }\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"handleTouchStart\", function (event) {\n      if (!_this._containerRef) {\n        return;\n      }\n      if (event.target && parentHasClass(event.target, 'pigeon-drag-block')) {\n        return;\n      }\n      if (event.touches.length === 1) {\n        var touch = event.touches[0];\n        var pixel = getMousePixel(_this._containerRef, touch);\n        if (_this.coordsInside(pixel)) {\n          _this._touchStartPixel = [pixel];\n          if (!_this.props.twoFingerDrag) {\n            _this.stopAnimating();\n            if (_this._lastTap && performanceNow() - _this._lastTap < DOUBLE_CLICK_DELAY) {\n              event.preventDefault();\n              var latLngNow = _this.pixelToLatLng(_this._touchStartPixel[0]);\n              _this.setCenterZoomTarget(null, Math.max(_this.props.minZoom, Math.min(_this.state.zoom + 1, _this.props.maxZoom)), false, latLngNow);\n            } else {\n              _this._lastTap = performanceNow();\n              _this.trackMoveEvents(pixel);\n            }\n          }\n        }\n      } else if (event.touches.length === 2 && _this._touchStartPixel) {\n        event.preventDefault();\n        _this.stopTrackingMoveEvents();\n        if (_this.state.pixelDelta || _this.state.zoomDelta) {\n          _this.sendDeltaChange();\n        }\n        var t1 = getMousePixel(_this._containerRef, event.touches[0]);\n        var t2 = getMousePixel(_this._containerRef, event.touches[1]);\n        _this._touchStartPixel = [t1, t2];\n        _this._touchStartMidPoint = [(t1[0] + t2[0]) / 2, (t1[1] + t2[1]) / 2];\n        _this._touchStartDistance = Math.sqrt(Math.pow(t1[0] - t2[0], 2) + Math.pow(t1[1] - t2[1], 2));\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"handleTouchMove\", function (event) {\n      if (!_this._containerRef) {\n        _this._touchStartPixel = null;\n        return;\n      }\n      if (event.touches.length === 1 && _this._touchStartPixel) {\n        var touch = event.touches[0];\n        var pixel = getMousePixel(_this._containerRef, touch);\n        if (_this.props.twoFingerDrag) {\n          if (_this.coordsInside(pixel)) {\n            _this.showWarning('fingers');\n          }\n        } else {\n          event.preventDefault();\n          _this.trackMoveEvents(pixel);\n          _this.setState({\n            pixelDelta: [pixel[0] - _this._touchStartPixel[0][0], pixel[1] - _this._touchStartPixel[0][1]]\n          }, NOOP);\n        }\n      } else if (event.touches.length === 2 && _this._touchStartPixel && _this._touchStartMidPoint && _this._touchStartDistance) {\n        var _this$state3 = _this.state,\n          width = _this$state3.width,\n          height = _this$state3.height,\n          zoom = _this$state3.zoom;\n        event.preventDefault();\n        var t1 = getMousePixel(_this._containerRef, event.touches[0]);\n        var t2 = getMousePixel(_this._containerRef, event.touches[1]);\n        var midPoint = [(t1[0] + t2[0]) / 2, (t1[1] + t2[1]) / 2];\n        var midPointDiff = [midPoint[0] - _this._touchStartMidPoint[0], midPoint[1] - _this._touchStartMidPoint[1]];\n        var distance = Math.sqrt(Math.pow(t1[0] - t2[0], 2) + Math.pow(t1[1] - t2[1], 2));\n        var zoomDelta = Math.max(_this.props.minZoom, Math.min(_this.props.maxZoom, zoom + Math.log2(distance / _this._touchStartDistance))) - zoom;\n        var scale = Math.pow(2, zoomDelta);\n        var centerDiffDiff = [(width / 2 - midPoint[0]) * (scale - 1), (height / 2 - midPoint[1]) * (scale - 1)];\n        _this.setState({\n          zoomDelta: zoomDelta,\n          pixelDelta: [centerDiffDiff[0] + midPointDiff[0] * scale, centerDiffDiff[1] + midPointDiff[1] * scale]\n        }, NOOP);\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"handleTouchEnd\", function (event) {\n      if (!_this._containerRef) {\n        _this._touchStartPixel = null;\n        return;\n      }\n      if (_this._touchStartPixel) {\n        var _this$props = _this.props,\n          zoomSnap = _this$props.zoomSnap,\n          twoFingerDrag = _this$props.twoFingerDrag,\n          minZoom = _this$props.minZoom,\n          maxZoom = _this$props.maxZoom;\n        var zoomDelta = _this.state.zoomDelta;\n        var _this$sendDeltaChange = _this.sendDeltaChange(),\n          center = _this$sendDeltaChange.center,\n          zoom = _this$sendDeltaChange.zoom;\n        if (event.touches.length === 0) {\n          if (twoFingerDrag) {\n            _this.clearWarning();\n          } else {\n            var oldTouchPixel = _this._touchStartPixel[0];\n            var newTouchPixel = getMousePixel(_this._containerRef, event.changedTouches[0]);\n            if (Math.abs(oldTouchPixel[0] - newTouchPixel[0]) > CLICK_TOLERANCE || Math.abs(oldTouchPixel[1] - newTouchPixel[1]) > CLICK_TOLERANCE) {\n              if (!_this._secondTouchEnd || performanceNow() - _this._secondTouchEnd > PINCH_RELEASE_THROW_DELAY) {\n                event.preventDefault();\n                _this.throwAfterMoving(newTouchPixel, center, zoom);\n              }\n            }\n            _this._touchStartPixel = null;\n            _this._secondTouchEnd = null;\n          }\n        } else if (event.touches.length === 1) {\n          event.preventDefault();\n          var touch = getMousePixel(_this._containerRef, event.touches[0]);\n          _this._secondTouchEnd = performanceNow();\n          _this._touchStartPixel = [touch];\n          _this.trackMoveEvents(touch);\n          if (zoomSnap) {\n            var latLng = _this._touchStartMidPoint ? _this.pixelToLatLng(_this._touchStartMidPoint) : _this.state.center;\n            var zoomTarget;\n            if (twoFingerDrag && Math.round(_this.state.zoom) === Math.round(_this.state.zoom + zoomDelta)) {\n              zoomTarget = Math.round(_this.state.zoom);\n            } else {\n              zoomTarget = zoomDelta > 0 ? Math.ceil(_this.state.zoom) : Math.floor(_this.state.zoom);\n            }\n            var _zoom = Math.max(minZoom, Math.min(zoomTarget, maxZoom));\n            _this.setCenterZoomTarget(latLng, _zoom, false, latLng);\n          }\n        }\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"handleMouseDown\", function (event) {\n      if (!_this._containerRef) {\n        return;\n      }\n      var pixel = getMousePixel(_this._containerRef, event);\n      if (event.button === 0 && (!event.target || !parentHasClass(event.target, 'pigeon-drag-block')) && _this.coordsInside(pixel)) {\n        _this.stopAnimating();\n        event.preventDefault();\n        if (_this._lastClick && performanceNow() - _this._lastClick < DOUBLE_CLICK_DELAY) {\n          if (!parentHasClass(event.target, 'pigeon-click-block')) {\n            var latLngNow = _this.pixelToLatLng(_this._mousePosition || pixel);\n            _this.setCenterZoomTarget(null, Math.max(_this.props.minZoom, Math.min(_this.state.zoom + 1, _this.props.maxZoom)), false, latLngNow);\n          }\n        } else {\n          _this._lastClick = performanceNow();\n          _this._mouseDown = true;\n          _this._dragStart = pixel;\n          _this.trackMoveEvents(pixel);\n        }\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"handleMouseMove\", function (event) {\n      if (!_this._containerRef) {\n        return;\n      }\n      _this._mousePosition = getMousePixel(_this._containerRef, event);\n      if (_this._mouseDown && _this._dragStart) {\n        _this.trackMoveEvents(_this._mousePosition);\n        _this.setState({\n          pixelDelta: [_this._mousePosition[0] - _this._dragStart[0], _this._mousePosition[1] - _this._dragStart[1]]\n        }, NOOP);\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"handleMouseUp\", function (event) {\n      if (!_this._containerRef) {\n        _this._mouseDown = false;\n        return;\n      }\n      var pixelDelta = _this.state.pixelDelta;\n      if (_this._mouseDown) {\n        _this._mouseDown = false;\n        var pixel = getMousePixel(_this._containerRef, event);\n        if (_this.props.onClick && (!event.target || !parentHasClass(event.target, 'pigeon-click-block')) && (!pixelDelta || Math.abs(pixelDelta[0]) + Math.abs(pixelDelta[1]) <= CLICK_TOLERANCE)) {\n          var latLng = _this.pixelToLatLng(pixel);\n          _this.props.onClick({\n            event: event,\n            latLng: latLng,\n            pixel: pixel\n          });\n          _this.setState({\n            pixelDelta: undefined\n          }, NOOP);\n        } else {\n          var _this$sendDeltaChange2 = _this.sendDeltaChange(),\n            center = _this$sendDeltaChange2.center,\n            zoom = _this$sendDeltaChange2.zoom;\n          _this.throwAfterMoving(pixel, center, zoom);\n        }\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"stopTrackingMoveEvents\", function () {\n      _this._moveEvents = [];\n    });\n    _defineProperty(_assertThisInitialized(_this), \"trackMoveEvents\", function (coords) {\n      var timestamp = performanceNow();\n      if (_this._moveEvents.length === 0 || timestamp - _this._moveEvents[_this._moveEvents.length - 1].timestamp > 40) {\n        _this._moveEvents.push({\n          timestamp: timestamp,\n          coords: coords\n        });\n        if (_this._moveEvents.length > 2) {\n          _this._moveEvents.shift();\n        }\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"throwAfterMoving\", function (coords, center, zoom) {\n      var _this$state4 = _this.state,\n        width = _this$state4.width,\n        height = _this$state4.height;\n      var animate = _this.props.animate;\n      var timestamp = performanceNow();\n      var lastEvent = _this._moveEvents.shift();\n      if (lastEvent && animate) {\n        var deltaMs = Math.max(timestamp - lastEvent.timestamp, 1);\n        var delta = [(coords[0] - lastEvent.coords[0]) / deltaMs * 120, (coords[1] - lastEvent.coords[1]) / deltaMs * 120];\n        var distance = Math.sqrt(delta[0] * delta[0] + delta[1] * delta[1]);\n        if (distance > MIN_DRAG_FOR_THROW) {\n          var diagonal = Math.sqrt(width * width + height * height);\n          var throwTime = DIAGONAL_THROW_TIME * distance / diagonal;\n          var lng = tile2lng(lng2tile(center[1], zoom) - delta[0] / 256.0, zoom);\n          var lat = tile2lat(lat2tile(center[0], zoom) - delta[1] / 256.0, zoom);\n          _this.setCenterZoomTarget([lat, lng], zoom, false, null, throwTime);\n        }\n      }\n      _this.stopTrackingMoveEvents();\n    });\n    _defineProperty(_assertThisInitialized(_this), \"sendDeltaChange\", function () {\n      var _this$state5 = _this.state,\n        center = _this$state5.center,\n        zoom = _this$state5.zoom,\n        pixelDelta = _this$state5.pixelDelta,\n        zoomDelta = _this$state5.zoomDelta;\n      var lat = center[0];\n      var lng = center[1];\n      if (pixelDelta || zoomDelta !== 0) {\n        lng = tile2lng(lng2tile(center[1], zoom + zoomDelta) - (pixelDelta ? pixelDelta[0] / 256.0 : 0), zoom + zoomDelta);\n        lat = tile2lat(lat2tile(center[0], zoom + zoomDelta) - (pixelDelta ? pixelDelta[1] / 256.0 : 0), zoom + zoomDelta);\n        _this.setCenterZoom([lat, lng], zoom + zoomDelta);\n      }\n      _this.setState({\n        pixelDelta: undefined,\n        zoomDelta: 0\n      }, NOOP);\n      return {\n        center: _this.limitCenterAtZoom([lat, lng], zoom + zoomDelta),\n        zoom: zoom + zoomDelta\n      };\n    });\n    _defineProperty(_assertThisInitialized(_this), \"getBounds\", function (center, zoom) {\n      if (center === void 0) {\n        center = _this.state.center;\n      }\n      if (zoom === void 0) {\n        zoom = _this.zoomPlusDelta();\n      }\n      var _this$state6 = _this.state,\n        width = _this$state6.width,\n        height = _this$state6.height;\n      return {\n        ne: _this.pixelToLatLng([width - 1, 0], center, zoom),\n        sw: _this.pixelToLatLng([0, height - 1], center, zoom)\n      };\n    });\n    _defineProperty(_assertThisInitialized(_this), \"syncToProps\", function (center, zoom) {\n      if (center === void 0) {\n        center = _this.state.center;\n      }\n      if (zoom === void 0) {\n        zoom = _this.state.zoom;\n      }\n      var onBoundsChanged = _this.props.onBoundsChanged;\n      if (onBoundsChanged) {\n        var bounds = _this.getBounds(center, zoom);\n        onBoundsChanged({\n          center: center,\n          zoom: zoom,\n          bounds: bounds,\n          initial: !_this._boundsSynced\n        });\n        _this._boundsSynced = true;\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"handleWheel\", function (event) {\n      var _this$props2 = _this.props,\n        mouseEvents = _this$props2.mouseEvents,\n        metaWheelZoom = _this$props2.metaWheelZoom,\n        zoomSnap = _this$props2.zoomSnap,\n        animate = _this$props2.animate;\n      if (!mouseEvents) {\n        return;\n      }\n      if (!metaWheelZoom || event.metaKey || event.ctrlKey) {\n        event.preventDefault();\n        var addToZoom = -event.deltaY / SCROLL_PIXELS_FOR_ZOOM_LEVEL;\n        if (!zoomSnap && _this._zoomTarget) {\n          var stillToAdd = _this._zoomTarget - _this.state.zoom;\n          _this.zoomAroundMouse(addToZoom + stillToAdd, event);\n        } else {\n          if (animate) {\n            _this.zoomAroundMouse(addToZoom, event);\n          } else {\n            if (!_this._lastWheel || performanceNow() - _this._lastWheel > ANIMATION_TIME) {\n              _this._lastWheel = performanceNow();\n              _this.zoomAroundMouse(addToZoom, event);\n            }\n          }\n        }\n      } else {\n        _this.showWarning('wheel');\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"showWarning\", function (warningType) {\n      if (!_this.state.showWarning || _this.state.warningType !== warningType) {\n        _this.setState({\n          showWarning: true,\n          warningType: warningType\n        });\n      }\n      if (_this._warningClearTimeout) {\n        window.clearTimeout(_this._warningClearTimeout);\n      }\n      _this._warningClearTimeout = window.setTimeout(_this.clearWarning, WARNING_DISPLAY_TIMEOUT);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"clearWarning\", function () {\n      if (_this.state.showWarning) {\n        _this.setState({\n          showWarning: false\n        });\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"zoomAroundMouse\", function (zoomDiff, event) {\n      if (!_this._containerRef) {\n        return;\n      }\n      var zoom = _this.state.zoom;\n      var _this$props3 = _this.props,\n        minZoom = _this$props3.minZoom,\n        maxZoom = _this$props3.maxZoom,\n        zoomSnap = _this$props3.zoomSnap;\n      _this._mousePosition = getMousePixel(_this._containerRef, event);\n      if (!_this._mousePosition || zoom === minZoom && zoomDiff < 0 || zoom === maxZoom && zoomDiff > 0) {\n        return;\n      }\n      var latLngNow = _this.pixelToLatLng(_this._mousePosition);\n      var zoomTarget = zoom + zoomDiff;\n      if (zoomSnap) {\n        zoomTarget = zoomDiff < 0 ? Math.floor(zoomTarget) : Math.ceil(zoomTarget);\n      }\n      zoomTarget = Math.max(minZoom, Math.min(zoomTarget, maxZoom));\n      _this.setCenterZoomTarget(null, zoomTarget, false, latLngNow);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"zoomPlusDelta\", function () {\n      return _this.state.zoom + _this.state.zoomDelta;\n    });\n    _defineProperty(_assertThisInitialized(_this), \"pixelToLatLng\", function (pixel, center, zoom) {\n      if (center === void 0) {\n        center = _this.state.center;\n      }\n      if (zoom === void 0) {\n        zoom = _this.zoomPlusDelta();\n      }\n      var _this$state7 = _this.state,\n        width = _this$state7.width,\n        height = _this$state7.height,\n        pixelDelta = _this$state7.pixelDelta;\n      var pointDiff = [(pixel[0] - width / 2 - (pixelDelta ? pixelDelta[0] : 0)) / 256.0, (pixel[1] - height / 2 - (pixelDelta ? pixelDelta[1] : 0)) / 256.0];\n      var tileX = lng2tile(center[1], zoom) + pointDiff[0];\n      var tileY = lat2tile(center[0], zoom) + pointDiff[1];\n      return [Math.max(absoluteMinMax[0], Math.min(absoluteMinMax[1], tile2lat(tileY, zoom))), Math.max(absoluteMinMax[2], Math.min(absoluteMinMax[3], tile2lng(tileX, zoom)))];\n    });\n    _defineProperty(_assertThisInitialized(_this), \"latLngToPixel\", function (latLng, center, zoom) {\n      if (center === void 0) {\n        center = _this.state.center;\n      }\n      if (zoom === void 0) {\n        zoom = _this.zoomPlusDelta();\n      }\n      var _this$state8 = _this.state,\n        width = _this$state8.width,\n        height = _this$state8.height,\n        pixelDelta = _this$state8.pixelDelta;\n      var tileCenterX = lng2tile(center[1], zoom);\n      var tileCenterY = lat2tile(center[0], zoom);\n      var tileX = lng2tile(latLng[1], zoom);\n      var tileY = lat2tile(latLng[0], zoom);\n      return [(tileX - tileCenterX) * 256.0 + width / 2 + (pixelDelta ? pixelDelta[0] : 0), (tileY - tileCenterY) * 256.0 + height / 2 + (pixelDelta ? pixelDelta[1] : 0)];\n    });\n    _defineProperty(_assertThisInitialized(_this), \"calculateZoomCenter\", function (center, coords, oldZoom, newZoom) {\n      var _this$state9 = _this.state,\n        width = _this$state9.width,\n        height = _this$state9.height;\n      var pixelBefore = _this.latLngToPixel(coords, center, oldZoom);\n      var pixelAfter = _this.latLngToPixel(coords, center, newZoom);\n      var newCenter = _this.pixelToLatLng([width / 2 + pixelAfter[0] - pixelBefore[0], height / 2 + pixelAfter[1] - pixelBefore[1]], center, newZoom);\n      return _this.limitCenterAtZoom(newCenter, newZoom);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"setRef\", function (dom) {\n      _this._containerRef = dom;\n    });\n    _this.syncToProps = debounce(_this.syncToProps, DEBOUNCE_DELAY);\n    _this._lastZoom = (_ref2 = (_props$defaultZoom = props.defaultZoom) !== null && _props$defaultZoom !== void 0 ? _props$defaultZoom : props.zoom) !== null && _ref2 !== void 0 ? _ref2 : 14;\n    _this._lastCenter = (_ref3 = (_props$defaultCenter = props.defaultCenter) !== null && _props$defaultCenter !== void 0 ? _props$defaultCenter : props.center) !== null && _ref3 !== void 0 ? _ref3 : [0, 0];\n    _this.state = {\n      zoom: _this._lastZoom,\n      center: _this._lastCenter,\n      width: (_ref4 = (_props$width = props.width) !== null && _props$width !== void 0 ? _props$width : props.defaultWidth) !== null && _ref4 !== void 0 ? _ref4 : -1,\n      height: (_ref5 = (_props$height = props.height) !== null && _props$height !== void 0 ? _props$height : props.defaultHeight) !== null && _ref5 !== void 0 ? _ref5 : -1,\n      zoomDelta: 0,\n      pixelDelta: undefined,\n      oldTiles: [],\n      showWarning: false,\n      warningType: undefined\n    };\n    return _this;\n  }\n  var _proto = Map.prototype;\n  _proto.componentDidMount = function componentDidMount() {\n    var _this2 = this;\n    this.props.mouseEvents && this.bindMouseEvents();\n    this.props.touchEvents && this.bindTouchEvents();\n    if (!this.props.width || !this.props.height) {\n      if (!this.updateWidthHeight()) {\n        requestAnimationFrame(this.updateWidthHeight);\n      }\n      this.bindResizeEvent();\n    }\n    this.bindWheelEvent();\n    this.syncToProps();\n    if (typeof window.ResizeObserver !== 'undefined') {\n      this._resizeObserver = new window.ResizeObserver(function () {\n        _this2.updateWidthHeight();\n      });\n      this._resizeObserver.observe(this._containerRef);\n    }\n  };\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    this.props.mouseEvents && this.unbindMouseEvents();\n    this.props.touchEvents && this.unbindTouchEvents();\n    this.unbindWheelEvent();\n    if (!this.props.width || !this.props.height) {\n      this.unbindResizeEvent();\n    }\n    if (this._resizeObserver) {\n      this._resizeObserver.disconnect();\n    }\n  };\n  _proto.componentDidUpdate = function componentDidUpdate(prevProps) {\n    var _prevProps$center;\n    if (this.props.mouseEvents !== prevProps.mouseEvents) {\n      this.props.mouseEvents ? this.bindMouseEvents() : this.unbindMouseEvents();\n    }\n    if (this.props.touchEvents !== prevProps.touchEvents) {\n      this.props.touchEvents ? this.bindTouchEvents() : this.unbindTouchEvents();\n    }\n    if (this.props.width && this.props.width !== prevProps.width) {\n      this.setState({\n        width: this.props.width\n      });\n    }\n    if (this.props.height && this.props.height !== prevProps.height) {\n      this.setState({\n        height: this.props.height\n      });\n    }\n    if (!this.props.center && !this.props.zoom) {\n      return;\n    }\n    if ((!this.props.center || this.props.center[0] === (prevProps === null || prevProps === void 0 ? void 0 : (_prevProps$center = prevProps.center) === null || _prevProps$center === void 0 ? void 0 : _prevProps$center[0]) && this.props.center[1] === prevProps.center[1]) && this.props.zoom === prevProps.zoom) {\n      return;\n    }\n    var currentCenter = this._isAnimating ? this._centerTarget : this.state.center;\n    var currentZoom = this._isAnimating ? this._zoomTarget : this.state.zoom;\n    if (currentCenter && currentZoom) {\n      var _this$props$center, _this$props$zoom;\n      var nextCenter = (_this$props$center = this.props.center) !== null && _this$props$center !== void 0 ? _this$props$center : currentCenter;\n      var nextZoom = (_this$props$zoom = this.props.zoom) !== null && _this$props$zoom !== void 0 ? _this$props$zoom : currentZoom;\n      if (Math.abs(nextZoom - currentZoom) > 0.001 || Math.abs(nextCenter[0] - currentCenter[0]) > 0.0001 || Math.abs(nextCenter[1] - currentCenter[1]) > 0.0001) {\n        this.setCenterZoomTarget(nextCenter, nextZoom, true);\n      }\n    }\n  };\n  _proto.coordsInside = function coordsInside(pixel) {\n    var _this$state10 = this.state,\n      width = _this$state10.width,\n      height = _this$state10.height;\n    if (pixel[0] < 0 || pixel[1] < 0 || pixel[0] >= width || pixel[1] >= height) {\n      return false;\n    }\n    var parent = this._containerRef;\n    if (parent) {\n      var pos = parentPosition(parent);\n      var element = document.elementFromPoint(pixel[0] + pos.x, pixel[1] + pos.y);\n      return parent === element || parent.contains(element);\n    } else {\n      return false;\n    }\n  };\n  _proto.tileValues = function tileValues(_ref6) {\n    var center = _ref6.center,\n      zoom = _ref6.zoom,\n      pixelDelta = _ref6.pixelDelta,\n      zoomDelta = _ref6.zoomDelta,\n      width = _ref6.width,\n      height = _ref6.height;\n    var roundedZoom = Math.round(zoom + (zoomDelta || 0));\n    var zoomDiff = zoom + (zoomDelta || 0) - roundedZoom;\n    var scale = Math.pow(2, zoomDiff);\n    var scaleWidth = width / scale;\n    var scaleHeight = height / scale;\n    var tileCenterX = lng2tile(center[1], roundedZoom) - (pixelDelta ? pixelDelta[0] / 256.0 / scale : 0);\n    var tileCenterY = lat2tile(center[0], roundedZoom) - (pixelDelta ? pixelDelta[1] / 256.0 / scale : 0);\n    var halfWidth = scaleWidth / 2 / 256.0;\n    var halfHeight = scaleHeight / 2 / 256.0;\n    var tileMinX = Math.floor(tileCenterX - halfWidth);\n    var tileMaxX = Math.floor(tileCenterX + halfWidth);\n    var tileMinY = Math.floor(tileCenterY - halfHeight);\n    var tileMaxY = Math.floor(tileCenterY + halfHeight);\n    return {\n      tileMinX: tileMinX,\n      tileMaxX: tileMaxX,\n      tileMinY: tileMinY,\n      tileMaxY: tileMaxY,\n      tileCenterX: tileCenterX,\n      tileCenterY: tileCenterY,\n      roundedZoom: roundedZoom,\n      zoomDelta: zoomDelta || 0,\n      scaleWidth: scaleWidth,\n      scaleHeight: scaleHeight,\n      scale: scale\n    };\n  };\n  _proto.renderTiles = function renderTiles() {\n    var _this3 = this;\n    var _this$state11 = this.state,\n      oldTiles = _this$state11.oldTiles,\n      width = _this$state11.width,\n      height = _this$state11.height;\n    var dprs = this.props.dprs;\n    var mapUrl = this.props.provider || osm;\n    var _this$tileValues = this.tileValues(this.state),\n      tileMinX = _this$tileValues.tileMinX,\n      tileMaxX = _this$tileValues.tileMaxX,\n      tileMinY = _this$tileValues.tileMinY,\n      tileMaxY = _this$tileValues.tileMaxY,\n      tileCenterX = _this$tileValues.tileCenterX,\n      tileCenterY = _this$tileValues.tileCenterY,\n      roundedZoom = _this$tileValues.roundedZoom,\n      scaleWidth = _this$tileValues.scaleWidth,\n      scaleHeight = _this$tileValues.scaleHeight,\n      scale = _this$tileValues.scale;\n    var tiles = [];\n    for (var i = 0; i < oldTiles.length; i++) {\n      var old = oldTiles[i];\n      var zoomDiff = old.roundedZoom - roundedZoom;\n      if (Math.abs(zoomDiff) > 4 || zoomDiff === 0) {\n        continue;\n      }\n      var pow = 1 / Math.pow(2, zoomDiff);\n      var xDiff = -(tileMinX - old.tileMinX * pow) * 256;\n      var yDiff = -(tileMinY - old.tileMinY * pow) * 256;\n      var _xMin = Math.max(old.tileMinX, 0);\n      var _yMin = Math.max(old.tileMinY, 0);\n      var _xMax = Math.min(old.tileMaxX, Math.pow(2, old.roundedZoom) - 1);\n      var _yMax = Math.min(old.tileMaxY, Math.pow(2, old.roundedZoom) - 1);\n      for (var x = _xMin; x <= _xMax; x++) {\n        for (var y = _yMin; y <= _yMax; y++) {\n          tiles.push({\n            key: x + \"-\" + y + \"-\" + old.roundedZoom,\n            url: mapUrl(x, y, old.roundedZoom),\n            srcSet: srcSet(dprs, mapUrl, x, y, old.roundedZoom),\n            left: xDiff + (x - old.tileMinX) * 256 * pow,\n            top: yDiff + (y - old.tileMinY) * 256 * pow,\n            width: 256 * pow,\n            height: 256 * pow,\n            active: false\n          });\n        }\n      }\n    }\n    var xMin = Math.max(tileMinX, 0);\n    var yMin = Math.max(tileMinY, 0);\n    var xMax = Math.min(tileMaxX, Math.pow(2, roundedZoom) - 1);\n    var yMax = Math.min(tileMaxY, Math.pow(2, roundedZoom) - 1);\n    for (var _x = xMin; _x <= xMax; _x++) {\n      for (var _y = yMin; _y <= yMax; _y++) {\n        tiles.push({\n          key: _x + \"-\" + _y + \"-\" + roundedZoom,\n          url: mapUrl(_x, _y, roundedZoom),\n          srcSet: srcSet(dprs, mapUrl, _x, _y, roundedZoom),\n          left: (_x - tileMinX) * 256,\n          top: (_y - tileMinY) * 256,\n          width: 256,\n          height: 256,\n          active: true\n        });\n      }\n    }\n    var boxStyle = {\n      width: scaleWidth,\n      height: scaleHeight,\n      position: 'absolute',\n      top: \"calc((100% - \" + height + \"px) / 2)\",\n      left: \"calc((100% - \" + width + \"px) / 2)\",\n      overflow: 'hidden',\n      willChange: 'transform',\n      transform: \"scale(\" + scale + \", \" + scale + \")\",\n      transformOrigin: 'top left'\n    };\n    var boxClassname = this.props.boxClassname || 'pigeon-tiles-box';\n    var left = -((tileCenterX - tileMinX) * 256 - scaleWidth / 2);\n    var top = -((tileCenterY - tileMinY) * 256 - scaleHeight / 2);\n    var tilesStyle = {\n      position: 'absolute',\n      width: (tileMaxX - tileMinX + 1) * 256,\n      height: (tileMaxY - tileMinY + 1) * 256,\n      willChange: 'transform',\n      transform: \"translate(\" + left + \"px, \" + top + \"px)\"\n    };\n    var Tile = this.props.tileComponent;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      style: boxStyle,\n      className: boxClassname\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"pigeon-tiles\",\n      style: tilesStyle\n    }, tiles.map(function (tile) {\n      return /*#__PURE__*/React.createElement(Tile, {\n        key: tile.key,\n        tile: tile,\n        tileLoaded: function tileLoaded() {\n          return _this3.tileLoaded(tile.key);\n        }\n      });\n    })));\n  };\n  _proto.renderOverlays = function renderOverlays() {\n    var _this4 = this;\n    var _this$state12 = this.state,\n      width = _this$state12.width,\n      height = _this$state12.height,\n      center = _this$state12.center;\n    var mapState = {\n      bounds: this.getBounds(),\n      zoom: this.zoomPlusDelta(),\n      center: center,\n      width: width,\n      height: height\n    };\n    var childrenWithProps = React.Children.map(this.props.children, function (child) {\n      if (!child) {\n        return null;\n      }\n      if (! /*#__PURE__*/React.isValidElement(child)) {\n        return child;\n      }\n      var _child$props = child.props,\n        anchor = _child$props.anchor,\n        position = _child$props.position,\n        offset = _child$props.offset;\n      var c = _this4.latLngToPixel(anchor || position || center);\n      return /*#__PURE__*/React.cloneElement(child, {\n        left: c[0] - (offset ? offset[0] : 0),\n        top: c[1] - (offset ? offset[1] : 0),\n        latLngToPixel: _this4.latLngToPixel,\n        pixelToLatLng: _this4.pixelToLatLng,\n        setCenterZoom: _this4.setCenterZoomForChildren,\n        mapProps: _this4.props,\n        mapState: mapState\n      });\n    });\n    var childrenStyle = {\n      position: 'absolute',\n      width: width,\n      height: height,\n      top: \"calc((100% - \" + height + \"px) / 2)\",\n      left: \"calc((100% - \" + width + \"px) / 2)\"\n    };\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"pigeon-overlays\",\n      style: childrenStyle\n    }, childrenWithProps);\n  };\n  _proto.renderAttribution = function renderAttribution() {\n    var _this$props4 = this.props,\n      attribution = _this$props4.attribution,\n      attributionPrefix = _this$props4.attributionPrefix;\n    if (attribution === false) {\n      return null;\n    }\n    var style = {\n      position: 'absolute',\n      bottom: 0,\n      right: 0,\n      fontSize: '11px',\n      padding: '2px 5px',\n      background: 'rgba(255, 255, 255, 0.7)',\n      fontFamily: \"'Helvetica Neue', Helvetica, Arial, sans-serif\",\n      color: '#333'\n    };\n    var linkStyle = {\n      color: '#0078A8',\n      textDecoration: 'none'\n    };\n    return /*#__PURE__*/React.createElement(\"div\", {\n      key: \"attr\",\n      className: \"pigeon-attribution\",\n      style: style\n    }, attributionPrefix === false ? null : /*#__PURE__*/React.createElement(\"span\", null, attributionPrefix || /*#__PURE__*/React.createElement(\"a\", {\n      href: \"https://pigeon-maps.js.org/\",\n      style: linkStyle,\n      target: \"_blank\",\n      rel: \"noreferrer noopener\"\n    }, \"Pigeon\"), ' | '), attribution || /*#__PURE__*/React.createElement(\"span\", null, ' © ', /*#__PURE__*/React.createElement(\"a\", {\n      href: \"https://www.openstreetmap.org/copyright\",\n      style: linkStyle,\n      target: \"_blank\",\n      rel: \"noreferrer noopener\"\n    }, \"OpenStreetMap\"), ' contributors'));\n  };\n  _proto.renderWarning = function renderWarning() {\n    var _this$props5 = this.props,\n      metaWheelZoom = _this$props5.metaWheelZoom,\n      metaWheelZoomWarning = _this$props5.metaWheelZoomWarning,\n      twoFingerDrag = _this$props5.twoFingerDrag,\n      twoFingerDragWarning = _this$props5.twoFingerDragWarning,\n      warningZIndex = _this$props5.warningZIndex;\n    var _this$state13 = this.state,\n      showWarning = _this$state13.showWarning,\n      warningType = _this$state13.warningType,\n      width = _this$state13.width,\n      height = _this$state13.height;\n    if (metaWheelZoom && metaWheelZoomWarning || twoFingerDrag && twoFingerDragWarning) {\n      var style = {\n        position: 'absolute',\n        top: 0,\n        left: 0,\n        width: width,\n        height: height,\n        overflow: 'hidden',\n        pointerEvents: 'none',\n        opacity: showWarning ? 100 : 0,\n        transition: 'opacity 300ms',\n        background: 'rgba(0,0,0,0.5)',\n        color: '#fff',\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'center',\n        fontSize: 22,\n        fontFamily: '\"Arial\", sans-serif',\n        textAlign: 'center',\n        zIndex: warningZIndex\n      };\n      var meta = typeof window !== 'undefined' && window.navigator && window.navigator.platform.toUpperCase().indexOf('MAC') >= 0 ? '⌘' : 'ctrl';\n      var warningText = warningType === 'fingers' ? twoFingerDragWarning : metaWheelZoomWarning;\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"pigeon-overlay-warning\",\n        style: style\n      }, warningText.replace('META', meta));\n    } else {\n      return null;\n    }\n  };\n  _proto.render = function render() {\n    var _this$props6 = this.props,\n      touchEvents = _this$props6.touchEvents,\n      twoFingerDrag = _this$props6.twoFingerDrag;\n    var _this$state14 = this.state,\n      width = _this$state14.width,\n      height = _this$state14.height;\n    var containerStyle = {\n      width: this.props.width ? width : '100%',\n      height: this.props.height ? height : '100%',\n      position: 'relative',\n      display: 'inline-block',\n      overflow: 'hidden',\n      background: '#dddddd',\n      touchAction: touchEvents ? twoFingerDrag ? 'pan-x pan-y' : 'none' : 'auto'\n    };\n    var hasSize = !!(width && height);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      style: containerStyle,\n      ref: this.setRef,\n      dir: \"ltr\"\n    }, hasSize && this.renderTiles(), hasSize && this.renderOverlays(), hasSize && this.renderAttribution(), hasSize && this.renderWarning());\n  };\n  return Map;\n}(Component);\n_defineProperty(Map, \"defaultProps\", {\n  animate: true,\n  metaWheelZoom: false,\n  metaWheelZoomWarning: 'Use META + wheel to zoom!',\n  twoFingerDrag: false,\n  twoFingerDragWarning: 'Use two fingers to move the map',\n  zoomSnap: true,\n  mouseEvents: true,\n  touchEvents: true,\n  warningZIndex: 100,\n  animateMaxScreens: 5,\n  minZoom: 1,\n  maxZoom: 18,\n  limitBounds: 'center',\n  dprs: [],\n  tileComponent: ImgTile\n});\nfunction Marker(props) {\n  var width = typeof props.width !== 'undefined' ? props.width : typeof props.height !== 'undefined' ? props.height * 29 / 34 : 29;\n  var height = typeof props.height !== 'undefined' ? props.height : typeof props.width !== 'undefined' ? props.width * 34 / 29 : 34;\n  var _useState = useState(props.hover || false),\n    internalHover = _useState[0],\n    setInternalHover = _useState[1];\n  var hover = typeof props.hover === 'undefined' ? internalHover : props.hover;\n  var color = props.color || '#93C0D0';\n  var eventParameters = function eventParameters(event) {\n    return {\n      event: event,\n      anchor: props.anchor,\n      payload: props.payload\n    };\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: _objectSpread2({\n      position: 'absolute',\n      transform: \"translate(\" + (props.left - width / 2) + \"px, \" + (props.top - (height - 1)) + \"px)\",\n      filter: hover ? 'drop-shadow(0 0 4px rgba(0, 0, 0, .3))' : '',\n      pointerEvents: 'none',\n      cursor: 'pointer'\n    }, props.style || {}),\n    className: props.className ? props.className + \" pigeon-click-block\" : 'pigeon-click-block',\n    onClick: props.onClick ? function (event) {\n      return props.onClick(eventParameters(event));\n    } : null,\n    onContextMenu: props.onContextMenu ? function (event) {\n      return props.onContextMenu(eventParameters(event));\n    } : null,\n    onMouseOver: function onMouseOver(event) {\n      props.onMouseOver && props.onMouseOver(eventParameters(event));\n      setInternalHover(true);\n    },\n    onMouseOut: function onMouseOut(event) {\n      props.onMouseOut && props.onMouseOut(eventParameters(event));\n      setInternalHover(false);\n    }\n  }, props.children || /*#__PURE__*/React.createElement(\"svg\", {\n    width: width,\n    height: height,\n    viewBox: \"0 0 61 71\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\"\n  }, /*#__PURE__*/React.createElement(\"g\", {\n    style: {\n      pointerEvents: 'auto'\n    }\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M52 31.5C52 36.8395 49.18 42.314 45.0107 47.6094C40.8672 52.872 35.619 57.678 31.1763 61.6922C30.7916 62.0398 30.2084 62.0398 29.8237 61.6922C25.381 57.678 20.1328 52.872 15.9893 47.6094C11.82 42.314 9 36.8395 9 31.5C9 18.5709 18.6801 9 30.5 9C42.3199 9 52 18.5709 52 31.5Z\",\n    fill: color,\n    stroke: \"white\",\n    strokeWidth: \"4\"\n  }), /*#__PURE__*/React.createElement(\"circle\", {\n    cx: \"30.5\",\n    cy: \"30.5\",\n    r: \"8.5\",\n    fill: \"white\",\n    opacity: hover ? 0.98 : 0.6\n  }))));\n}\nfunction Overlay(props) {\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: _objectSpread2({\n      position: 'absolute',\n      transform: \"translate(\" + props.left + \"px, \" + props.top + \"px)\"\n    }, props.style || {}),\n    className: props.className ? props.className + \" pigeon-click-block\" : 'pigeon-click-block'\n  }, props.children);\n}\nvar defaultSvgAttributes = {\n  fill: '#93c0d099',\n  strokeWidth: '2',\n  stroke: 'white',\n  r: '30'\n};\nfunction PointComponent(props) {\n  var latLngToPixel = props.latLngToPixel;\n  var _props$coordinates = props.coordinates,\n    y = _props$coordinates[0],\n    x = _props$coordinates[1];\n  var _latLngToPixel = latLngToPixel([x, y]),\n    cx = _latLngToPixel[0],\n    cy = _latLngToPixel[1];\n  return /*#__PURE__*/React.createElement(\"circle\", _objectSpread2({\n    cx: cx,\n    cy: cy\n  }, props.svgAttributes));\n}\nfunction MultiPoint(props) {\n  return /*#__PURE__*/React.createElement(React.Fragment, null, props.coordinates.map(function (point, i) {\n    return /*#__PURE__*/React.createElement(PointComponent, _objectSpread2(_objectSpread2({}, props), {}, {\n      coordinates: point,\n      key: i\n    }));\n  }));\n}\nfunction LineString(props) {\n  var latLngToPixel = props.latLngToPixel;\n  var p = 'M' + props.coordinates.reduce(function (a, _ref) {\n    var y = _ref[0],\n      x = _ref[1];\n    var _latLngToPixel2 = latLngToPixel([x, y]),\n      v = _latLngToPixel2[0],\n      w = _latLngToPixel2[1];\n    return a + ' ' + v + ' ' + w;\n  }, '');\n  return /*#__PURE__*/React.createElement(\"path\", _objectSpread2({\n    d: p\n  }, props.svgAttributes));\n}\nfunction MultiLineString(props) {\n  return /*#__PURE__*/React.createElement(React.Fragment, null, props.coordinates.map(function (line, i) {\n    return /*#__PURE__*/React.createElement(LineString, {\n      coordinates: line,\n      key: i\n    });\n  }));\n}\nfunction Polygon(props) {\n  var latLngToPixel = props.latLngToPixel;\n  var p = props.coordinates.reduce(function (a, part) {\n    return a + ' M' + part.reduce(function (a, _ref2) {\n      var y = _ref2[0],\n        x = _ref2[1];\n      var _latLngToPixel3 = latLngToPixel([x, y]),\n        v = _latLngToPixel3[0],\n        w = _latLngToPixel3[1];\n      return a + ' ' + v + ' ' + w;\n    }, '') + 'Z';\n  }, '');\n  return /*#__PURE__*/React.createElement(\"path\", _objectSpread2({\n    d: p\n  }, props.svgAttributes));\n}\nfunction MultiPolygon(props) {\n  return /*#__PURE__*/React.createElement(React.Fragment, null, props.coordinates.map(function (polygon, i) {\n    return /*#__PURE__*/React.createElement(Polygon, _objectSpread2(_objectSpread2({}, props), {}, {\n      coordinates: polygon,\n      key: i\n    }));\n  }));\n}\nfunction GeometryCollection(props) {\n  var renderer = {\n    Point: PointComponent,\n    MultiPoint: MultiPoint,\n    LineString: LineString,\n    MultiLineString: MultiLineString,\n    Polygon: Polygon,\n    MultiPolygon: MultiPolygon\n  };\n  var _props$geometry = props.geometry,\n    type = _props$geometry.type,\n    coordinates = _props$geometry.coordinates,\n    geometries = _props$geometry.geometries;\n  if (type === 'GeometryCollection') {\n    return /*#__PURE__*/React.createElement(React.Fragment, null, geometries.map(function (geometry, i) {\n      return /*#__PURE__*/React.createElement(GeometryCollection, _objectSpread2(_objectSpread2({\n        key: i\n      }, props), {}, {\n        geometry: geometry\n      }));\n    }));\n  }\n  var Component = renderer[type];\n  if (Component === undefined) {\n    console.warn(\"The GeoJson Type \" + type + \" is not known\");\n    return null;\n  }\n  return /*#__PURE__*/React.createElement(Component, {\n    latLngToPixel: props.latLngToPixel,\n    geometry: props.geometry,\n    coordinates: coordinates,\n    svgAttributes: props.svgAttributes\n  });\n}\nfunction GeoJsonFeature(props) {\n  var _useState = useState(props.hover || false),\n    internalHover = _useState[0],\n    setInternalHover = _useState[1];\n  var hover = props.hover !== undefined ? props.hover : internalHover;\n  var callbackSvgAttributes = props.styleCallback && props.styleCallback(props.feature, hover);\n  var svgAttributes = callbackSvgAttributes ? props.svgAttributes ? _objectSpread2(_objectSpread2({}, props.svgAttributes), callbackSvgAttributes) : callbackSvgAttributes : props.svgAttributes ? props.svgAttributes : defaultSvgAttributes;\n  var eventParameters = function eventParameters(event) {\n    return {\n      event: event,\n      anchor: props.anchor,\n      payload: props.feature\n    };\n  };\n  return /*#__PURE__*/React.createElement(\"g\", {\n    clipRule: \"evenodd\",\n    style: {\n      pointerEvents: 'auto'\n    },\n    onClick: props.onClick ? function (event) {\n      return props.onClick(eventParameters(event));\n    } : null,\n    onContextMenu: props.onContextMenu ? function (event) {\n      return props.onContextMenu(eventParameters(event));\n    } : null,\n    onMouseOver: function onMouseOver(event) {\n      props.onMouseOver && props.onMouseOver(eventParameters(event));\n      setInternalHover(true);\n    },\n    onMouseOut: function onMouseOut(event) {\n      props.onMouseOut && props.onMouseOut(eventParameters(event));\n      setInternalHover(false);\n    }\n  }, /*#__PURE__*/React.createElement(GeometryCollection, _objectSpread2(_objectSpread2(_objectSpread2({}, props), props.feature), {}, {\n    svgAttributes: svgAttributes\n  })));\n}\nfunction GeoJson(props) {\n  var _props$mapState = props.mapState,\n    width = _props$mapState.width,\n    height = _props$mapState.height;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: _objectSpread2({\n      position: 'absolute',\n      left: '0',\n      top: '0',\n      pointerEvents: 'none',\n      cursor: 'pointer'\n    }, props.style || {}),\n    className: props.className ? props.className + \" pigeon-click-block\" : 'pigeon-click-block'\n  }, /*#__PURE__*/React.createElement(\"svg\", {\n    width: width,\n    height: height,\n    viewBox: \"0 0 \" + width + \" \" + height,\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\"\n  }, props.data && props.data.features.map(function (feature, i) {\n    return /*#__PURE__*/React.createElement(GeoJsonFeature, _objectSpread2(_objectSpread2({\n      key: i\n    }, props), {}, {\n      feature: feature\n    }));\n  }), React.Children.map(props.children, function (child) {\n    if (!child) {\n      return null;\n    }\n    if (! /*#__PURE__*/React.isValidElement(child)) {\n      return child;\n    }\n    return /*#__PURE__*/React.cloneElement(child, props);\n  })));\n}\nfunction GeoJsonLoader(props) {\n  var _useState2 = useState(props.data ? props.data : null),\n    data = _useState2[0],\n    setData = _useState2[1];\n  useEffect(function () {\n    fetch(props.link).then(function (response) {\n      return response.json();\n    }).then(function (data) {\n      return setData(data);\n    });\n  }, [props.link]);\n  return data ? /*#__PURE__*/React.createElement(GeoJson, _objectSpread2({\n    data: data\n  }, props)) : null;\n}\nfunction isDescendentOf(element, ancestor) {\n  while (element) {\n    if (element === ancestor) {\n      return true;\n    }\n    element = element.parentElement;\n  }\n  return false;\n}\nvar defaultState = {\n  isDragging: false,\n  startX: undefined,\n  startY: undefined,\n  startLeft: undefined,\n  startTop: undefined,\n  deltaX: 0,\n  deltaY: 0\n};\nfunction Draggable(props) {\n  var dragRef = useRef();\n  var propsRef = useRef(props);\n  var stateRef = useRef(_objectSpread2({}, defaultState));\n  var _useState = useState(defaultState),\n    _state = _useState[0],\n    _setState = _useState[1];\n  propsRef.current = props;\n  var setState = function setState(stateUpdate) {\n    var newState = _objectSpread2(_objectSpread2({}, stateRef.current), stateUpdate);\n    stateRef.current = newState;\n    _setState(newState);\n  };\n  var _props$mapProps = props.mapProps,\n    mouseEvents = _props$mapProps.mouseEvents,\n    touchEvents = _props$mapProps.touchEvents;\n  useEffect(function () {\n    var handleDragStart = function handleDragStart(event) {\n      if (isDescendentOf(event.target, dragRef.current)) {\n        event.preventDefault();\n        setState({\n          isDragging: true,\n          startX: ('touches' in event ? event.touches[0] : event).clientX,\n          startY: ('touches' in event ? event.touches[0] : event).clientY,\n          startLeft: propsRef.current.left,\n          startTop: propsRef.current.top,\n          deltaX: 0,\n          deltaY: 0\n        });\n        if (propsRef.current.onDragStart) {\n          var _propsRef$current = propsRef.current,\n            _left = _propsRef$current.left,\n            _top = _propsRef$current.top,\n            offset = _propsRef$current.offset,\n            pixelToLatLng = _propsRef$current.pixelToLatLng;\n          propsRef.current.onDragMove(pixelToLatLng([_left + (offset ? offset[0] : 0), _top + (offset ? offset[1] : 0)]));\n        }\n      }\n    };\n    var handleDragMove = function handleDragMove(event) {\n      if (!stateRef.current.isDragging) {\n        return;\n      }\n      event.preventDefault();\n      var x = ('touches' in event ? event.touches[0] : event).clientX;\n      var y = ('touches' in event ? event.touches[0] : event).clientY;\n      var deltaX = x - stateRef.current.startX;\n      var deltaY = y - stateRef.current.startY;\n      setState({\n        deltaX: deltaX,\n        deltaY: deltaY\n      });\n      if (propsRef.current.onDragMove) {\n        var _propsRef$current2 = propsRef.current,\n          offset = _propsRef$current2.offset,\n          pixelToLatLng = _propsRef$current2.pixelToLatLng;\n        var _stateRef$current = stateRef.current,\n          _startLeft = _stateRef$current.startLeft,\n          _startTop = _stateRef$current.startTop;\n        propsRef.current.onDragMove(pixelToLatLng([_startLeft + deltaX + (offset ? offset[0] : 0), _startTop + deltaY + (offset ? offset[1] : 0)]));\n      }\n    };\n    var handleDragEnd = function handleDragEnd(event) {\n      var _propsRef$current$onD, _propsRef$current4;\n      if (!stateRef.current.isDragging) {\n        return;\n      }\n      event.preventDefault();\n      var _propsRef$current3 = propsRef.current,\n        offset = _propsRef$current3.offset,\n        pixelToLatLng = _propsRef$current3.pixelToLatLng;\n      var _stateRef$current2 = stateRef.current,\n        deltaX = _stateRef$current2.deltaX,\n        deltaY = _stateRef$current2.deltaY,\n        startLeft = _stateRef$current2.startLeft,\n        startTop = _stateRef$current2.startTop;\n      (_propsRef$current$onD = (_propsRef$current4 = propsRef.current).onDragEnd) === null || _propsRef$current$onD === void 0 ? void 0 : _propsRef$current$onD.call(_propsRef$current4, pixelToLatLng([startLeft + deltaX + (offset ? offset[0] : 0), startTop + deltaY + (offset ? offset[1] : 0)]));\n      setState({\n        isDragging: false,\n        startX: undefined,\n        startY: undefined,\n        startLeft: undefined,\n        startTop: undefined,\n        deltaX: 0,\n        deltaY: 0\n      });\n    };\n    var wa = function wa(e, t, o) {\n      return window.addEventListener(e, t, o);\n    };\n    var wr = function wr(e, t) {\n      return window.removeEventListener(e, t);\n    };\n    if (mouseEvents) {\n      wa('mousedown', handleDragStart);\n      wa('mousemove', handleDragMove);\n      wa('mouseup', handleDragEnd);\n    }\n    if (touchEvents) {\n      wa('touchstart', handleDragStart, {\n        passive: false\n      });\n      wa('touchmove', handleDragMove, {\n        passive: false\n      });\n      wa('touchend', handleDragEnd, {\n        passive: false\n      });\n    }\n    return function () {\n      if (mouseEvents) {\n        wr('mousedown', handleDragStart);\n        wr('mousemove', handleDragMove);\n        wr('mouseup', handleDragEnd);\n      }\n      if (touchEvents) {\n        wr('touchstart', handleDragStart);\n        wr('touchmove', handleDragMove);\n        wr('touchend', handleDragEnd);\n      }\n    };\n  }, [mouseEvents, touchEvents]);\n  var left = props.left,\n    top = props.top,\n    className = props.className,\n    style = props.style;\n  var deltaX = _state.deltaX,\n    deltaY = _state.deltaY,\n    startLeft = _state.startLeft,\n    startTop = _state.startTop,\n    isDragging = _state.isDragging;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: _objectSpread2(_objectSpread2({\n      cursor: isDragging ? 'grabbing' : 'grab'\n    }, style || {}), {}, {\n      position: 'absolute',\n      transform: \"translate(\" + (isDragging ? startLeft + deltaX : left) + \"px, \" + (isDragging ? startTop + deltaY : top) + \"px)\"\n    }),\n    ref: dragRef,\n    className: \"pigeon-drag-block\" + (className ? \" \" + className : '')\n  }, props.children);\n}\nvar commonStyle = {\n  position: 'absolute',\n  top: 10,\n  left: 10\n};\nvar commonButtonStyle = {\n  width: 28,\n  height: 28,\n  borderRadius: 2,\n  boxShadow: '0 1px 4px -1px rgba(0,0,0,.3)',\n  background: 'white',\n  lineHeight: '26px',\n  fontSize: '20px',\n  fontWeight: 700,\n  color: '#666',\n  marginBottom: 1,\n  cursor: 'pointer',\n  border: 'none',\n  display: 'block',\n  outline: 'none'\n};\nfunction ZoomControl(_ref) {\n  var style = _ref.style,\n    buttonStyle = _ref.buttonStyle,\n    setCenterZoom = _ref.setCenterZoom,\n    mapState = _ref.mapState,\n    mapProps = _ref.mapProps;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"pigeon-zoom-buttons pigeon-drag-block\",\n    style: style ? _objectSpread2(_objectSpread2({}, commonStyle), style) : commonStyle\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"pigeon-zoom-in\",\n    type: \"button\",\n    style: buttonStyle ? _objectSpread2(_objectSpread2({}, commonButtonStyle), buttonStyle) : commonButtonStyle,\n    onClick: function onClick() {\n      return setCenterZoom(mapState.center, Math.min(mapState.zoom + 1, mapProps.maxZoom));\n    }\n  }, \"+\"), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"pigeon-zoom-out\",\n    type: \"button\",\n    style: buttonStyle ? _objectSpread2(_objectSpread2({}, commonButtonStyle), buttonStyle) : commonButtonStyle,\n    onClick: function onClick() {\n      return setCenterZoom(mapState.center, Math.max(mapState.zoom - 1, mapProps.minZoom));\n    }\n  }, \"\\u2013\"));\n}\nexport { Draggable, GeoJson, GeoJsonFeature, GeoJsonLoader, Map, Marker, Overlay, ZoomControl };","map":{"version":3,"names":["React","Component","useState","useEffect","useRef","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread2","target","i","arguments","length","source","forEach","key","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","obj","value","configurable","writable","_inheritsLoose","subClass","superClass","prototype","create","constructor","_setPrototypeOf","o","p","setPrototypeOf","__proto__","_assertThisInitialized","self","ReferenceError","debounce","func","wait","timeout","_len","args","Array","_key","context","clearTimeout","setTimeout","parentHasClass","element","className","classList","contains","parentElement","parentPosition","rect","getBoundingClientRect","x","left","y","top","osm","z","s","String","fromCharCode","ANIMATION_TIME","DIAGONAL_THROW_TIME","SCROLL_PIXELS_FOR_ZOOM_LEVEL","MIN_DRAG_FOR_THROW","CLICK_TOLERANCE","DOUBLE_CLICK_DELAY","DEBOUNCE_DELAY","PINCH_RELEASE_THROW_DELAY","WARNING_DISPLAY_TIMEOUT","NOOP","lng2tile","lon","zoom","Math","pow","lat2tile","lat","log","tan","PI","cos","tile2lng","tile2lat","n","atan","exp","getMousePixel","dom","event","parent","clientX","clientY","easeOutQuad","t","absoluteMinMax","hasWindow","window","performanceNow","performance","now","timeStart","Date","getTime","requestAnimationFrame","callback","cancelAnimationFrame","animFrame","srcSet","dprs","url","map","dpr","join","ImgTile","_ref","tile","tileLoaded","createElement","src","width","height","loading","onLoad","alt","style","position","willChange","transformOrigin","opacity","Map","_Component","props","_ref2","_props$defaultZoom","_ref3","_props$defaultCenter","_ref4","_props$width","_ref5","_props$height","_this","call","_containerRef","setState","_window","addEventListener","_window2","removeEventListener","wa","handleMouseDown","handleMouseUp","handleMouseMove","handleTouchStart","passive","handleTouchMove","handleTouchEnd","wr","updateWidthHeight","handleWheel","center","fromProps","zoomAround","animationDuration","animate","distanceInScreens","state","animateMaxScreens","_isAnimating","_animFrame","_this$animationStep","animationStep","centerStep","zoomStep","_centerStart","_zoomStart","limitCenterAtZoom","_lastCenter","_lastZoom","onAnimationStart","_animationStart","_animationEnd","_zoomAround","_centerTarget","calculateZoomCenter","_zoomTarget","stopAnimating","_center","setCenterZoom","setCenterZoomTarget","centerTarget","zoomTarget","_this$state","l1","latLngToPixel","l2","z1","z2","w","abs","h","sqrt","timestamp","progress","max","percentage","zoomDiff","_centerStep","onAnimationStop","_this$animationStep2","minMax","getBoundsMinMax","min","isNaN","animationEnded","limitedCenter","round","tileValues","nextValues","oldTiles","roundedZoom","concat","loadTracker","tileMinX","tileMaxX","tileMinY","tileMaxY","_loadTracker","maybeZoom","maybeCenter","syncToProps","limitBounds","_this$state2","_minMaxCache","pixelsAtZoom","minLng","minLat","maxLng","maxLat","unloadedCount","values","v","touches","touch","pixel","coordsInside","_touchStartPixel","twoFingerDrag","_lastTap","preventDefault","latLngNow","pixelToLatLng","minZoom","maxZoom","trackMoveEvents","stopTrackingMoveEvents","pixelDelta","zoomDelta","sendDeltaChange","t1","t2","_touchStartMidPoint","_touchStartDistance","showWarning","_this$state3","midPoint","midPointDiff","distance","log2","scale","centerDiffDiff","_this$props","zoomSnap","_this$sendDeltaChange","clearWarning","oldTouchPixel","newTouchPixel","changedTouches","_secondTouchEnd","throwAfterMoving","latLng","ceil","floor","_zoom","button","_lastClick","_mousePosition","_mouseDown","_dragStart","onClick","undefined","_this$sendDeltaChange2","_moveEvents","coords","shift","_this$state4","lastEvent","deltaMs","delta","diagonal","throwTime","lng","_this$state5","zoomPlusDelta","_this$state6","ne","sw","onBoundsChanged","bounds","getBounds","initial","_boundsSynced","_this$props2","mouseEvents","metaWheelZoom","metaKey","ctrlKey","addToZoom","deltaY","stillToAdd","zoomAroundMouse","_lastWheel","warningType","_warningClearTimeout","_this$props3","_this$state7","pointDiff","tileX","tileY","_this$state8","tileCenterX","tileCenterY","oldZoom","newZoom","_this$state9","pixelBefore","pixelAfter","newCenter","defaultZoom","defaultCenter","defaultWidth","defaultHeight","_proto","componentDidMount","_this2","bindMouseEvents","touchEvents","bindTouchEvents","bindResizeEvent","bindWheelEvent","ResizeObserver","_resizeObserver","observe","componentWillUnmount","unbindMouseEvents","unbindTouchEvents","unbindWheelEvent","unbindResizeEvent","disconnect","componentDidUpdate","prevProps","_prevProps$center","currentCenter","currentZoom","_this$props$center","_this$props$zoom","nextCenter","nextZoom","_this$state10","pos","document","elementFromPoint","_ref6","scaleWidth","scaleHeight","halfWidth","halfHeight","renderTiles","_this3","_this$state11","mapUrl","provider","_this$tileValues","tiles","old","xDiff","yDiff","_xMin","_yMin","_xMax","_yMax","active","xMin","yMin","xMax","yMax","_x","_y","boxStyle","overflow","transform","boxClassname","tilesStyle","Tile","tileComponent","renderOverlays","_this4","_this$state12","mapState","childrenWithProps","Children","children","child","isValidElement","_child$props","anchor","offset","c","cloneElement","setCenterZoomForChildren","mapProps","childrenStyle","renderAttribution","_this$props4","attribution","attributionPrefix","bottom","right","fontSize","padding","background","fontFamily","color","linkStyle","textDecoration","href","rel","renderWarning","_this$props5","metaWheelZoomWarning","twoFingerDragWarning","warningZIndex","_this$state13","pointerEvents","transition","display","justifyContent","alignItems","textAlign","zIndex","meta","navigator","platform","toUpperCase","indexOf","warningText","replace","render","_this$props6","_this$state14","containerStyle","touchAction","hasSize","ref","setRef","dir","Marker","_useState","hover","internalHover","setInternalHover","eventParameters","payload","cursor","onContextMenu","onMouseOver","onMouseOut","viewBox","fill","xmlns","d","stroke","strokeWidth","cx","cy","r","Overlay","defaultSvgAttributes","PointComponent","_props$coordinates","coordinates","_latLngToPixel","svgAttributes","MultiPoint","Fragment","point","LineString","reduce","a","_latLngToPixel2","MultiLineString","line","Polygon","part","_latLngToPixel3","MultiPolygon","polygon","GeometryCollection","renderer","Point","_props$geometry","geometry","type","geometries","console","warn","GeoJsonFeature","callbackSvgAttributes","styleCallback","feature","clipRule","GeoJson","_props$mapState","data","features","GeoJsonLoader","_useState2","setData","fetch","link","then","response","json","isDescendentOf","ancestor","defaultState","isDragging","startX","startY","startLeft","startTop","deltaX","Draggable","dragRef","propsRef","stateRef","_state","_setState","current","stateUpdate","newState","_props$mapProps","handleDragStart","onDragStart","_propsRef$current","_left","_top","onDragMove","handleDragMove","_propsRef$current2","_stateRef$current","_startLeft","_startTop","handleDragEnd","_propsRef$current$onD","_propsRef$current4","_propsRef$current3","_stateRef$current2","onDragEnd","e","commonStyle","commonButtonStyle","borderRadius","boxShadow","lineHeight","fontWeight","marginBottom","border","outline","ZoomControl","buttonStyle"],"sources":["C:/Users/aless/OneDrive/Área de Trabalho/Registro Ponto front-end GitHub/ReactProjects/my-app/node_modules/pigeon-maps/lib/index.esm.js"],"sourcesContent":["import React, { Component, useState, useEffect, useRef } from 'react';\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n\n  _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction debounce(func, wait) {\n  var timeout;\n  return function () {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    var context = this;\n    clearTimeout(timeout);\n    timeout = setTimeout(function () {\n      return func.apply(context, args);\n    }, wait);\n  };\n}\nfunction parentHasClass(element, className) {\n  while (element) {\n    if (element.classList && element.classList.contains(className)) {\n      return true;\n    }\n\n    element = element.parentElement;\n  }\n\n  return false;\n}\nfunction parentPosition(element) {\n  var rect = element.getBoundingClientRect();\n  return {\n    x: rect.left,\n    y: rect.top\n  };\n}\n\nfunction osm(x, y, z) {\n  var s = String.fromCharCode(97 + (x + y + z) % 3);\n  return \"https://\" + s + \".tile.openstreetmap.org/\" + z + \"/\" + x + \"/\" + y + \".png\";\n}\n\nvar ANIMATION_TIME = 300;\nvar DIAGONAL_THROW_TIME = 1500;\nvar SCROLL_PIXELS_FOR_ZOOM_LEVEL = 150;\nvar MIN_DRAG_FOR_THROW = 40;\nvar CLICK_TOLERANCE = 2;\nvar DOUBLE_CLICK_DELAY = 300;\nvar DEBOUNCE_DELAY = 60;\nvar PINCH_RELEASE_THROW_DELAY = 300;\nvar WARNING_DISPLAY_TIMEOUT = 300;\n\nvar NOOP = function NOOP() {\n  return true;\n};\n\nvar lng2tile = function lng2tile(lon, zoom) {\n  return (lon + 180) / 360 * Math.pow(2, zoom);\n};\n\nvar lat2tile = function lat2tile(lat, zoom) {\n  return (1 - Math.log(Math.tan(lat * Math.PI / 180) + 1 / Math.cos(lat * Math.PI / 180)) / Math.PI) / 2 * Math.pow(2, zoom);\n};\n\nfunction tile2lng(x, z) {\n  return x / Math.pow(2, z) * 360 - 180;\n}\n\nfunction tile2lat(y, z) {\n  var n = Math.PI - 2 * Math.PI * y / Math.pow(2, z);\n  return 180 / Math.PI * Math.atan(0.5 * (Math.exp(n) - Math.exp(-n)));\n}\n\nfunction getMousePixel(dom, event) {\n  var parent = parentPosition(dom);\n  return [event.clientX - parent.x, event.clientY - parent.y];\n}\n\nfunction easeOutQuad(t) {\n  return t * (2 - t);\n}\n\nvar absoluteMinMax = [tile2lat(Math.pow(2, 10), 10), tile2lat(0, 10), tile2lng(0, 10), tile2lng(Math.pow(2, 10), 10)];\nvar hasWindow = typeof window !== 'undefined';\nvar performanceNow = hasWindow && window.performance && window.performance.now ? function () {\n  return window.performance.now();\n} : function () {\n  var timeStart = new Date().getTime();\n  return function () {\n    return new Date().getTime() - timeStart;\n  };\n}();\n\nvar requestAnimationFrame = function requestAnimationFrame(callback) {\n  if (hasWindow) {\n    return (window.requestAnimationFrame || window.setTimeout)(callback);\n  } else {\n    callback(new Date().getTime());\n    return null;\n  }\n};\n\nvar cancelAnimationFrame = function cancelAnimationFrame(animFrame) {\n  return hasWindow && animFrame ? (window.cancelAnimationFrame || window.clearTimeout)(animFrame) : false;\n};\n\nfunction srcSet(dprs, url, x, y, z) {\n  if (!dprs || dprs.length === 0) {\n    return '';\n  }\n\n  return dprs.map(function (dpr) {\n    return url(x, y, z, dpr) + (dpr === 1 ? '' : \" \" + dpr + \"x\");\n  }).join(', ');\n}\n\nvar ImgTile = function ImgTile(_ref) {\n  var tile = _ref.tile,\n      tileLoaded = _ref.tileLoaded;\n  return /*#__PURE__*/React.createElement(\"img\", {\n    src: tile.url,\n    srcSet: tile.srcSet,\n    width: tile.width,\n    height: tile.height,\n    loading: 'lazy',\n    onLoad: tileLoaded,\n    alt: '',\n    style: {\n      position: 'absolute',\n      left: tile.left,\n      top: tile.top,\n      willChange: 'transform',\n      transformOrigin: 'top left',\n      opacity: 1\n    }\n  });\n};\n\nvar Map = /*#__PURE__*/function (_Component) {\n  _inheritsLoose(Map, _Component);\n\n  function Map(props) {\n    var _ref2, _props$defaultZoom, _ref3, _props$defaultCenter, _ref4, _props$width, _ref5, _props$height;\n\n    var _this;\n\n    _this = _Component.call(this, props) || this;\n\n    _defineProperty(_assertThisInitialized(_this), \"_containerRef\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_mousePosition\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_loadTracker\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_dragStart\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"_mouseDown\", false);\n\n    _defineProperty(_assertThisInitialized(_this), \"_moveEvents\", []);\n\n    _defineProperty(_assertThisInitialized(_this), \"_lastClick\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"_lastTap\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"_lastWheel\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"_touchStartPixel\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"_touchStartMidPoint\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"_touchStartDistance\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"_secondTouchEnd\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"_warningClearTimeout\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"_isAnimating\", false);\n\n    _defineProperty(_assertThisInitialized(_this), \"_animationStart\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"_animationEnd\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"_zoomStart\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"_centerTarget\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"_zoomTarget\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"_zoomAround\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"_animFrame\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"_boundsSynced\", false);\n\n    _defineProperty(_assertThisInitialized(_this), \"_minMaxCache\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"_lastZoom\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_lastCenter\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_centerStart\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_resizeObserver\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"updateWidthHeight\", function () {\n      if (_this._containerRef) {\n        var rect = _this._containerRef.getBoundingClientRect();\n\n        if (rect && rect.width > 0 && rect.height > 0) {\n          _this.setState({\n            width: rect.width,\n            height: rect.height\n          });\n\n          return true;\n        }\n      }\n\n      return false;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"wa\", function () {\n      var _window;\n\n      return (_window = window).addEventListener.apply(_window, arguments);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"wr\", function () {\n      var _window2;\n\n      return (_window2 = window).removeEventListener.apply(_window2, arguments);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"bindMouseEvents\", function () {\n      _this.wa('mousedown', _this.handleMouseDown);\n\n      _this.wa('mouseup', _this.handleMouseUp);\n\n      _this.wa('mousemove', _this.handleMouseMove);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"bindTouchEvents\", function () {\n      _this.wa('touchstart', _this.handleTouchStart, {\n        passive: false\n      });\n\n      _this.wa('touchmove', _this.handleTouchMove, {\n        passive: false\n      });\n\n      _this.wa('touchend', _this.handleTouchEnd, {\n        passive: false\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"unbindMouseEvents\", function () {\n      _this.wr('mousedown', _this.handleMouseDown);\n\n      _this.wr('mouseup', _this.handleMouseUp);\n\n      _this.wr('mousemove', _this.handleMouseMove);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"unbindTouchEvents\", function () {\n      _this.wr('touchstart', _this.handleTouchStart);\n\n      _this.wr('touchmove', _this.handleTouchMove);\n\n      _this.wr('touchend', _this.handleTouchEnd);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"bindResizeEvent\", function () {\n      _this.wa('resize', _this.updateWidthHeight);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"unbindResizeEvent\", function () {\n      _this.wr('resize', _this.updateWidthHeight);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"bindWheelEvent\", function () {\n      if (_this._containerRef) {\n        _this._containerRef.addEventListener('wheel', _this.handleWheel, {\n          passive: false\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"unbindWheelEvent\", function () {\n      if (_this._containerRef) {\n        _this._containerRef.removeEventListener('wheel', _this.handleWheel);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"setCenterZoomTarget\", function (center, zoom, fromProps, zoomAround, animationDuration) {\n      if (fromProps === void 0) {\n        fromProps = false;\n      }\n\n      if (zoomAround === void 0) {\n        zoomAround = null;\n      }\n\n      if (animationDuration === void 0) {\n        animationDuration = ANIMATION_TIME;\n      }\n\n      if (_this.props.animate && (!fromProps || _this.distanceInScreens(center, zoom, _this.state.center, _this.state.zoom) <= _this.props.animateMaxScreens)) {\n        if (_this._isAnimating) {\n          cancelAnimationFrame(_this._animFrame);\n\n          var _this$animationStep = _this.animationStep(performanceNow()),\n              centerStep = _this$animationStep.centerStep,\n              zoomStep = _this$animationStep.zoomStep;\n\n          _this._centerStart = centerStep;\n          _this._zoomStart = zoomStep;\n        } else {\n          _this._isAnimating = true;\n          _this._centerStart = _this.limitCenterAtZoom([_this._lastCenter[0], _this._lastCenter[1]], _this._lastZoom);\n          _this._zoomStart = _this._lastZoom;\n\n          _this.onAnimationStart();\n        }\n\n        _this._animationStart = performanceNow();\n        _this._animationEnd = _this._animationStart + animationDuration;\n\n        if (zoomAround) {\n          _this._zoomAround = zoomAround;\n          _this._centerTarget = _this.calculateZoomCenter(_this._lastCenter, zoomAround, _this._lastZoom, zoom);\n        } else {\n          _this._zoomAround = null;\n          _this._centerTarget = center;\n        }\n\n        _this._zoomTarget = zoom;\n        _this._animFrame = requestAnimationFrame(_this.animate);\n      } else {\n        _this.stopAnimating();\n\n        if (zoomAround) {\n          var _center = _this.calculateZoomCenter(_this._lastCenter, zoomAround, _this._lastZoom, zoom);\n\n          _this.setCenterZoom(_center, zoom, fromProps);\n        } else {\n          _this.setCenterZoom(center || _this.state.center, zoom, fromProps);\n        }\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"setCenterZoomForChildren\", function (center, zoom) {\n      _this.setCenterZoomTarget(center || _this.state.center, zoom || _this.state.zoom, true);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"distanceInScreens\", function (centerTarget, zoomTarget, center, zoom) {\n      var _this$state = _this.state,\n          width = _this$state.width,\n          height = _this$state.height;\n\n      var l1 = _this.latLngToPixel(center, center, zoom);\n\n      var l2 = _this.latLngToPixel(centerTarget, center, zoom);\n\n      var z1 = _this.latLngToPixel(center, center, zoomTarget);\n\n      var z2 = _this.latLngToPixel(centerTarget, center, zoomTarget);\n\n      var w = (Math.abs(l1[0] - l2[0]) + Math.abs(z1[0] - z2[0])) / 2 / width;\n      var h = (Math.abs(l1[1] - l2[1]) + Math.abs(z1[1] - z2[1])) / 2 / height;\n      return Math.sqrt(w * w + h * h);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"animationStep\", function (timestamp) {\n      if (!_this._animationEnd || !_this._animationStart || !_this._zoomTarget || !_this._zoomStart || !_this._centerStart || !_this._centerTarget) {\n        return {\n          centerStep: _this.state.center,\n          zoomStep: _this.state.zoom\n        };\n      }\n\n      var length = _this._animationEnd - _this._animationStart;\n      var progress = Math.max(timestamp - _this._animationStart, 0);\n      var percentage = easeOutQuad(progress / length);\n      var zoomDiff = (_this._zoomTarget - _this._zoomStart) * percentage;\n      var zoomStep = _this._zoomStart + zoomDiff;\n\n      if (_this._zoomAround) {\n        var centerStep = _this.calculateZoomCenter(_this._centerStart, _this._zoomAround, _this._zoomStart, zoomStep);\n\n        return {\n          centerStep: centerStep,\n          zoomStep: zoomStep\n        };\n      } else {\n        var _centerStep = [_this._centerStart[0] + (_this._centerTarget[0] - _this._centerStart[0]) * percentage, _this._centerStart[1] + (_this._centerTarget[1] - _this._centerStart[1]) * percentage];\n        return {\n          centerStep: _centerStep,\n          zoomStep: zoomStep\n        };\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"animate\", function (timestamp) {\n      if (!_this._animationEnd || timestamp >= _this._animationEnd) {\n        _this._isAnimating = false;\n\n        _this.setCenterZoom(_this._centerTarget, _this._zoomTarget, true);\n\n        _this.onAnimationStop();\n      } else {\n        var _this$animationStep2 = _this.animationStep(timestamp),\n            centerStep = _this$animationStep2.centerStep,\n            zoomStep = _this$animationStep2.zoomStep;\n\n        _this.setCenterZoom(centerStep, zoomStep);\n\n        _this._animFrame = requestAnimationFrame(_this.animate);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"stopAnimating\", function () {\n      if (_this._isAnimating) {\n        _this._isAnimating = false;\n\n        _this.onAnimationStop();\n\n        cancelAnimationFrame(_this._animFrame);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"limitCenterAtZoom\", function (center, zoom) {\n      var minMax = _this.getBoundsMinMax(zoom || _this.state.zoom);\n\n      return [Math.max(Math.min(!center || isNaN(center[0]) ? _this.state.center[0] : center[0], minMax[1]), minMax[0]), Math.max(Math.min(!center || isNaN(center[1]) ? _this.state.center[1] : center[1], minMax[3]), minMax[2])];\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onAnimationStart\", function () {\n      _this.props.onAnimationStart && _this.props.onAnimationStart();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onAnimationStop\", function () {\n      _this.props.onAnimationStop && _this.props.onAnimationStop();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"setCenterZoom\", function (center, zoom, animationEnded) {\n      if (animationEnded === void 0) {\n        animationEnded = false;\n      }\n\n      var limitedCenter = _this.limitCenterAtZoom(center, zoom);\n\n      if (zoom && Math.round(_this.state.zoom) !== Math.round(zoom)) {\n        var tileValues = _this.tileValues(_this.state);\n\n        var nextValues = _this.tileValues({\n          center: limitedCenter,\n          zoom: zoom,\n          width: _this.state.width,\n          height: _this.state.height\n        });\n\n        var oldTiles = _this.state.oldTiles;\n\n        _this.setState({\n          oldTiles: oldTiles.filter(function (o) {\n            return o.roundedZoom !== tileValues.roundedZoom;\n          }).concat(tileValues)\n        }, NOOP);\n\n        var loadTracker = {};\n\n        for (var x = nextValues.tileMinX; x <= nextValues.tileMaxX; x++) {\n          for (var y = nextValues.tileMinY; y <= nextValues.tileMaxY; y++) {\n            var key = x + \"-\" + y + \"-\" + nextValues.roundedZoom;\n            loadTracker[key] = false;\n          }\n        }\n\n        _this._loadTracker = loadTracker;\n      }\n\n      _this.setState({\n        center: limitedCenter,\n        zoom: zoom || _this.state.zoom\n      }, NOOP);\n\n      var maybeZoom = _this.props.zoom ? _this.props.zoom : _this._lastZoom;\n      var maybeCenter = _this.props.center ? _this.props.center : _this._lastCenter;\n\n      if (zoom && (animationEnded || Math.abs(maybeZoom - zoom) > 0.001 || Math.abs(maybeCenter[0] - limitedCenter[0]) > 0.00001 || Math.abs(maybeCenter[1] - limitedCenter[1]) > 0.00001)) {\n        _this._lastZoom = zoom;\n        _this._lastCenter = [].concat(limitedCenter);\n\n        _this.syncToProps(limitedCenter, zoom);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getBoundsMinMax\", function (zoom) {\n      if (_this.props.limitBounds === 'center') {\n        return absoluteMinMax;\n      }\n\n      var _this$state2 = _this.state,\n          width = _this$state2.width,\n          height = _this$state2.height;\n\n      if (_this._minMaxCache && _this._minMaxCache[0] === zoom && _this._minMaxCache[1] === width && _this._minMaxCache[2] === height) {\n        return _this._minMaxCache[3];\n      }\n\n      var pixelsAtZoom = Math.pow(2, zoom) * 256;\n      var minLng = width > pixelsAtZoom ? 0 : tile2lng(width / 512, zoom);\n      var minLat = height > pixelsAtZoom ? 0 : tile2lat(Math.pow(2, zoom) - height / 512, zoom);\n      var maxLng = width > pixelsAtZoom ? 0 : tile2lng(Math.pow(2, zoom) - width / 512, zoom);\n      var maxLat = height > pixelsAtZoom ? 0 : tile2lat(height / 512, zoom);\n      var minMax = [minLat, maxLat, minLng, maxLng];\n      _this._minMaxCache = [zoom, width, height, minMax];\n      return minMax;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"tileLoaded\", function (key) {\n      if (_this._loadTracker && key in _this._loadTracker) {\n        _this._loadTracker[key] = true;\n        var unloadedCount = Object.values(_this._loadTracker).filter(function (v) {\n          return !v;\n        }).length;\n\n        if (unloadedCount === 0) {\n          _this.setState({\n            oldTiles: []\n          }, NOOP);\n        }\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleTouchStart\", function (event) {\n      if (!_this._containerRef) {\n        return;\n      }\n\n      if (event.target && parentHasClass(event.target, 'pigeon-drag-block')) {\n        return;\n      }\n\n      if (event.touches.length === 1) {\n        var touch = event.touches[0];\n        var pixel = getMousePixel(_this._containerRef, touch);\n\n        if (_this.coordsInside(pixel)) {\n          _this._touchStartPixel = [pixel];\n\n          if (!_this.props.twoFingerDrag) {\n            _this.stopAnimating();\n\n            if (_this._lastTap && performanceNow() - _this._lastTap < DOUBLE_CLICK_DELAY) {\n              event.preventDefault();\n\n              var latLngNow = _this.pixelToLatLng(_this._touchStartPixel[0]);\n\n              _this.setCenterZoomTarget(null, Math.max(_this.props.minZoom, Math.min(_this.state.zoom + 1, _this.props.maxZoom)), false, latLngNow);\n            } else {\n              _this._lastTap = performanceNow();\n\n              _this.trackMoveEvents(pixel);\n            }\n          }\n        }\n      } else if (event.touches.length === 2 && _this._touchStartPixel) {\n        event.preventDefault();\n\n        _this.stopTrackingMoveEvents();\n\n        if (_this.state.pixelDelta || _this.state.zoomDelta) {\n          _this.sendDeltaChange();\n        }\n\n        var t1 = getMousePixel(_this._containerRef, event.touches[0]);\n        var t2 = getMousePixel(_this._containerRef, event.touches[1]);\n        _this._touchStartPixel = [t1, t2];\n        _this._touchStartMidPoint = [(t1[0] + t2[0]) / 2, (t1[1] + t2[1]) / 2];\n        _this._touchStartDistance = Math.sqrt(Math.pow(t1[0] - t2[0], 2) + Math.pow(t1[1] - t2[1], 2));\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleTouchMove\", function (event) {\n      if (!_this._containerRef) {\n        _this._touchStartPixel = null;\n        return;\n      }\n\n      if (event.touches.length === 1 && _this._touchStartPixel) {\n        var touch = event.touches[0];\n        var pixel = getMousePixel(_this._containerRef, touch);\n\n        if (_this.props.twoFingerDrag) {\n          if (_this.coordsInside(pixel)) {\n            _this.showWarning('fingers');\n          }\n        } else {\n          event.preventDefault();\n\n          _this.trackMoveEvents(pixel);\n\n          _this.setState({\n            pixelDelta: [pixel[0] - _this._touchStartPixel[0][0], pixel[1] - _this._touchStartPixel[0][1]]\n          }, NOOP);\n        }\n      } else if (event.touches.length === 2 && _this._touchStartPixel && _this._touchStartMidPoint && _this._touchStartDistance) {\n        var _this$state3 = _this.state,\n            width = _this$state3.width,\n            height = _this$state3.height,\n            zoom = _this$state3.zoom;\n        event.preventDefault();\n        var t1 = getMousePixel(_this._containerRef, event.touches[0]);\n        var t2 = getMousePixel(_this._containerRef, event.touches[1]);\n        var midPoint = [(t1[0] + t2[0]) / 2, (t1[1] + t2[1]) / 2];\n        var midPointDiff = [midPoint[0] - _this._touchStartMidPoint[0], midPoint[1] - _this._touchStartMidPoint[1]];\n        var distance = Math.sqrt(Math.pow(t1[0] - t2[0], 2) + Math.pow(t1[1] - t2[1], 2));\n        var zoomDelta = Math.max(_this.props.minZoom, Math.min(_this.props.maxZoom, zoom + Math.log2(distance / _this._touchStartDistance))) - zoom;\n        var scale = Math.pow(2, zoomDelta);\n        var centerDiffDiff = [(width / 2 - midPoint[0]) * (scale - 1), (height / 2 - midPoint[1]) * (scale - 1)];\n\n        _this.setState({\n          zoomDelta: zoomDelta,\n          pixelDelta: [centerDiffDiff[0] + midPointDiff[0] * scale, centerDiffDiff[1] + midPointDiff[1] * scale]\n        }, NOOP);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleTouchEnd\", function (event) {\n      if (!_this._containerRef) {\n        _this._touchStartPixel = null;\n        return;\n      }\n\n      if (_this._touchStartPixel) {\n        var _this$props = _this.props,\n            zoomSnap = _this$props.zoomSnap,\n            twoFingerDrag = _this$props.twoFingerDrag,\n            minZoom = _this$props.minZoom,\n            maxZoom = _this$props.maxZoom;\n        var zoomDelta = _this.state.zoomDelta;\n\n        var _this$sendDeltaChange = _this.sendDeltaChange(),\n            center = _this$sendDeltaChange.center,\n            zoom = _this$sendDeltaChange.zoom;\n\n        if (event.touches.length === 0) {\n          if (twoFingerDrag) {\n            _this.clearWarning();\n          } else {\n            var oldTouchPixel = _this._touchStartPixel[0];\n            var newTouchPixel = getMousePixel(_this._containerRef, event.changedTouches[0]);\n\n            if (Math.abs(oldTouchPixel[0] - newTouchPixel[0]) > CLICK_TOLERANCE || Math.abs(oldTouchPixel[1] - newTouchPixel[1]) > CLICK_TOLERANCE) {\n              if (!_this._secondTouchEnd || performanceNow() - _this._secondTouchEnd > PINCH_RELEASE_THROW_DELAY) {\n                event.preventDefault();\n\n                _this.throwAfterMoving(newTouchPixel, center, zoom);\n              }\n            }\n\n            _this._touchStartPixel = null;\n            _this._secondTouchEnd = null;\n          }\n        } else if (event.touches.length === 1) {\n          event.preventDefault();\n          var touch = getMousePixel(_this._containerRef, event.touches[0]);\n          _this._secondTouchEnd = performanceNow();\n          _this._touchStartPixel = [touch];\n\n          _this.trackMoveEvents(touch);\n\n          if (zoomSnap) {\n            var latLng = _this._touchStartMidPoint ? _this.pixelToLatLng(_this._touchStartMidPoint) : _this.state.center;\n            var zoomTarget;\n\n            if (twoFingerDrag && Math.round(_this.state.zoom) === Math.round(_this.state.zoom + zoomDelta)) {\n              zoomTarget = Math.round(_this.state.zoom);\n            } else {\n              zoomTarget = zoomDelta > 0 ? Math.ceil(_this.state.zoom) : Math.floor(_this.state.zoom);\n            }\n\n            var _zoom = Math.max(minZoom, Math.min(zoomTarget, maxZoom));\n\n            _this.setCenterZoomTarget(latLng, _zoom, false, latLng);\n          }\n        }\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleMouseDown\", function (event) {\n      if (!_this._containerRef) {\n        return;\n      }\n\n      var pixel = getMousePixel(_this._containerRef, event);\n\n      if (event.button === 0 && (!event.target || !parentHasClass(event.target, 'pigeon-drag-block')) && _this.coordsInside(pixel)) {\n        _this.stopAnimating();\n\n        event.preventDefault();\n\n        if (_this._lastClick && performanceNow() - _this._lastClick < DOUBLE_CLICK_DELAY) {\n          if (!parentHasClass(event.target, 'pigeon-click-block')) {\n            var latLngNow = _this.pixelToLatLng(_this._mousePosition || pixel);\n\n            _this.setCenterZoomTarget(null, Math.max(_this.props.minZoom, Math.min(_this.state.zoom + 1, _this.props.maxZoom)), false, latLngNow);\n          }\n        } else {\n          _this._lastClick = performanceNow();\n          _this._mouseDown = true;\n          _this._dragStart = pixel;\n\n          _this.trackMoveEvents(pixel);\n        }\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleMouseMove\", function (event) {\n      if (!_this._containerRef) {\n        return;\n      }\n\n      _this._mousePosition = getMousePixel(_this._containerRef, event);\n\n      if (_this._mouseDown && _this._dragStart) {\n        _this.trackMoveEvents(_this._mousePosition);\n\n        _this.setState({\n          pixelDelta: [_this._mousePosition[0] - _this._dragStart[0], _this._mousePosition[1] - _this._dragStart[1]]\n        }, NOOP);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleMouseUp\", function (event) {\n      if (!_this._containerRef) {\n        _this._mouseDown = false;\n        return;\n      }\n\n      var pixelDelta = _this.state.pixelDelta;\n\n      if (_this._mouseDown) {\n        _this._mouseDown = false;\n        var pixel = getMousePixel(_this._containerRef, event);\n\n        if (_this.props.onClick && (!event.target || !parentHasClass(event.target, 'pigeon-click-block')) && (!pixelDelta || Math.abs(pixelDelta[0]) + Math.abs(pixelDelta[1]) <= CLICK_TOLERANCE)) {\n          var latLng = _this.pixelToLatLng(pixel);\n\n          _this.props.onClick({\n            event: event,\n            latLng: latLng,\n            pixel: pixel\n          });\n\n          _this.setState({\n            pixelDelta: undefined\n          }, NOOP);\n        } else {\n          var _this$sendDeltaChange2 = _this.sendDeltaChange(),\n              center = _this$sendDeltaChange2.center,\n              zoom = _this$sendDeltaChange2.zoom;\n\n          _this.throwAfterMoving(pixel, center, zoom);\n        }\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"stopTrackingMoveEvents\", function () {\n      _this._moveEvents = [];\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"trackMoveEvents\", function (coords) {\n      var timestamp = performanceNow();\n\n      if (_this._moveEvents.length === 0 || timestamp - _this._moveEvents[_this._moveEvents.length - 1].timestamp > 40) {\n        _this._moveEvents.push({\n          timestamp: timestamp,\n          coords: coords\n        });\n\n        if (_this._moveEvents.length > 2) {\n          _this._moveEvents.shift();\n        }\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"throwAfterMoving\", function (coords, center, zoom) {\n      var _this$state4 = _this.state,\n          width = _this$state4.width,\n          height = _this$state4.height;\n      var animate = _this.props.animate;\n      var timestamp = performanceNow();\n\n      var lastEvent = _this._moveEvents.shift();\n\n      if (lastEvent && animate) {\n        var deltaMs = Math.max(timestamp - lastEvent.timestamp, 1);\n        var delta = [(coords[0] - lastEvent.coords[0]) / deltaMs * 120, (coords[1] - lastEvent.coords[1]) / deltaMs * 120];\n        var distance = Math.sqrt(delta[0] * delta[0] + delta[1] * delta[1]);\n\n        if (distance > MIN_DRAG_FOR_THROW) {\n          var diagonal = Math.sqrt(width * width + height * height);\n          var throwTime = DIAGONAL_THROW_TIME * distance / diagonal;\n          var lng = tile2lng(lng2tile(center[1], zoom) - delta[0] / 256.0, zoom);\n          var lat = tile2lat(lat2tile(center[0], zoom) - delta[1] / 256.0, zoom);\n\n          _this.setCenterZoomTarget([lat, lng], zoom, false, null, throwTime);\n        }\n      }\n\n      _this.stopTrackingMoveEvents();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"sendDeltaChange\", function () {\n      var _this$state5 = _this.state,\n          center = _this$state5.center,\n          zoom = _this$state5.zoom,\n          pixelDelta = _this$state5.pixelDelta,\n          zoomDelta = _this$state5.zoomDelta;\n      var lat = center[0];\n      var lng = center[1];\n\n      if (pixelDelta || zoomDelta !== 0) {\n        lng = tile2lng(lng2tile(center[1], zoom + zoomDelta) - (pixelDelta ? pixelDelta[0] / 256.0 : 0), zoom + zoomDelta);\n        lat = tile2lat(lat2tile(center[0], zoom + zoomDelta) - (pixelDelta ? pixelDelta[1] / 256.0 : 0), zoom + zoomDelta);\n\n        _this.setCenterZoom([lat, lng], zoom + zoomDelta);\n      }\n\n      _this.setState({\n        pixelDelta: undefined,\n        zoomDelta: 0\n      }, NOOP);\n\n      return {\n        center: _this.limitCenterAtZoom([lat, lng], zoom + zoomDelta),\n        zoom: zoom + zoomDelta\n      };\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getBounds\", function (center, zoom) {\n      if (center === void 0) {\n        center = _this.state.center;\n      }\n\n      if (zoom === void 0) {\n        zoom = _this.zoomPlusDelta();\n      }\n\n      var _this$state6 = _this.state,\n          width = _this$state6.width,\n          height = _this$state6.height;\n      return {\n        ne: _this.pixelToLatLng([width - 1, 0], center, zoom),\n        sw: _this.pixelToLatLng([0, height - 1], center, zoom)\n      };\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"syncToProps\", function (center, zoom) {\n      if (center === void 0) {\n        center = _this.state.center;\n      }\n\n      if (zoom === void 0) {\n        zoom = _this.state.zoom;\n      }\n\n      var onBoundsChanged = _this.props.onBoundsChanged;\n\n      if (onBoundsChanged) {\n        var bounds = _this.getBounds(center, zoom);\n\n        onBoundsChanged({\n          center: center,\n          zoom: zoom,\n          bounds: bounds,\n          initial: !_this._boundsSynced\n        });\n        _this._boundsSynced = true;\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleWheel\", function (event) {\n      var _this$props2 = _this.props,\n          mouseEvents = _this$props2.mouseEvents,\n          metaWheelZoom = _this$props2.metaWheelZoom,\n          zoomSnap = _this$props2.zoomSnap,\n          animate = _this$props2.animate;\n\n      if (!mouseEvents) {\n        return;\n      }\n\n      if (!metaWheelZoom || event.metaKey || event.ctrlKey) {\n        event.preventDefault();\n        var addToZoom = -event.deltaY / SCROLL_PIXELS_FOR_ZOOM_LEVEL;\n\n        if (!zoomSnap && _this._zoomTarget) {\n          var stillToAdd = _this._zoomTarget - _this.state.zoom;\n\n          _this.zoomAroundMouse(addToZoom + stillToAdd, event);\n        } else {\n          if (animate) {\n            _this.zoomAroundMouse(addToZoom, event);\n          } else {\n            if (!_this._lastWheel || performanceNow() - _this._lastWheel > ANIMATION_TIME) {\n              _this._lastWheel = performanceNow();\n\n              _this.zoomAroundMouse(addToZoom, event);\n            }\n          }\n        }\n      } else {\n        _this.showWarning('wheel');\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"showWarning\", function (warningType) {\n      if (!_this.state.showWarning || _this.state.warningType !== warningType) {\n        _this.setState({\n          showWarning: true,\n          warningType: warningType\n        });\n      }\n\n      if (_this._warningClearTimeout) {\n        window.clearTimeout(_this._warningClearTimeout);\n      }\n\n      _this._warningClearTimeout = window.setTimeout(_this.clearWarning, WARNING_DISPLAY_TIMEOUT);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"clearWarning\", function () {\n      if (_this.state.showWarning) {\n        _this.setState({\n          showWarning: false\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"zoomAroundMouse\", function (zoomDiff, event) {\n      if (!_this._containerRef) {\n        return;\n      }\n\n      var zoom = _this.state.zoom;\n      var _this$props3 = _this.props,\n          minZoom = _this$props3.minZoom,\n          maxZoom = _this$props3.maxZoom,\n          zoomSnap = _this$props3.zoomSnap;\n      _this._mousePosition = getMousePixel(_this._containerRef, event);\n\n      if (!_this._mousePosition || zoom === minZoom && zoomDiff < 0 || zoom === maxZoom && zoomDiff > 0) {\n        return;\n      }\n\n      var latLngNow = _this.pixelToLatLng(_this._mousePosition);\n\n      var zoomTarget = zoom + zoomDiff;\n\n      if (zoomSnap) {\n        zoomTarget = zoomDiff < 0 ? Math.floor(zoomTarget) : Math.ceil(zoomTarget);\n      }\n\n      zoomTarget = Math.max(minZoom, Math.min(zoomTarget, maxZoom));\n\n      _this.setCenterZoomTarget(null, zoomTarget, false, latLngNow);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"zoomPlusDelta\", function () {\n      return _this.state.zoom + _this.state.zoomDelta;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"pixelToLatLng\", function (pixel, center, zoom) {\n      if (center === void 0) {\n        center = _this.state.center;\n      }\n\n      if (zoom === void 0) {\n        zoom = _this.zoomPlusDelta();\n      }\n\n      var _this$state7 = _this.state,\n          width = _this$state7.width,\n          height = _this$state7.height,\n          pixelDelta = _this$state7.pixelDelta;\n      var pointDiff = [(pixel[0] - width / 2 - (pixelDelta ? pixelDelta[0] : 0)) / 256.0, (pixel[1] - height / 2 - (pixelDelta ? pixelDelta[1] : 0)) / 256.0];\n      var tileX = lng2tile(center[1], zoom) + pointDiff[0];\n      var tileY = lat2tile(center[0], zoom) + pointDiff[1];\n      return [Math.max(absoluteMinMax[0], Math.min(absoluteMinMax[1], tile2lat(tileY, zoom))), Math.max(absoluteMinMax[2], Math.min(absoluteMinMax[3], tile2lng(tileX, zoom)))];\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"latLngToPixel\", function (latLng, center, zoom) {\n      if (center === void 0) {\n        center = _this.state.center;\n      }\n\n      if (zoom === void 0) {\n        zoom = _this.zoomPlusDelta();\n      }\n\n      var _this$state8 = _this.state,\n          width = _this$state8.width,\n          height = _this$state8.height,\n          pixelDelta = _this$state8.pixelDelta;\n      var tileCenterX = lng2tile(center[1], zoom);\n      var tileCenterY = lat2tile(center[0], zoom);\n      var tileX = lng2tile(latLng[1], zoom);\n      var tileY = lat2tile(latLng[0], zoom);\n      return [(tileX - tileCenterX) * 256.0 + width / 2 + (pixelDelta ? pixelDelta[0] : 0), (tileY - tileCenterY) * 256.0 + height / 2 + (pixelDelta ? pixelDelta[1] : 0)];\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"calculateZoomCenter\", function (center, coords, oldZoom, newZoom) {\n      var _this$state9 = _this.state,\n          width = _this$state9.width,\n          height = _this$state9.height;\n\n      var pixelBefore = _this.latLngToPixel(coords, center, oldZoom);\n\n      var pixelAfter = _this.latLngToPixel(coords, center, newZoom);\n\n      var newCenter = _this.pixelToLatLng([width / 2 + pixelAfter[0] - pixelBefore[0], height / 2 + pixelAfter[1] - pixelBefore[1]], center, newZoom);\n\n      return _this.limitCenterAtZoom(newCenter, newZoom);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"setRef\", function (dom) {\n      _this._containerRef = dom;\n    });\n\n    _this.syncToProps = debounce(_this.syncToProps, DEBOUNCE_DELAY);\n    _this._lastZoom = (_ref2 = (_props$defaultZoom = props.defaultZoom) !== null && _props$defaultZoom !== void 0 ? _props$defaultZoom : props.zoom) !== null && _ref2 !== void 0 ? _ref2 : 14;\n    _this._lastCenter = (_ref3 = (_props$defaultCenter = props.defaultCenter) !== null && _props$defaultCenter !== void 0 ? _props$defaultCenter : props.center) !== null && _ref3 !== void 0 ? _ref3 : [0, 0];\n    _this.state = {\n      zoom: _this._lastZoom,\n      center: _this._lastCenter,\n      width: (_ref4 = (_props$width = props.width) !== null && _props$width !== void 0 ? _props$width : props.defaultWidth) !== null && _ref4 !== void 0 ? _ref4 : -1,\n      height: (_ref5 = (_props$height = props.height) !== null && _props$height !== void 0 ? _props$height : props.defaultHeight) !== null && _ref5 !== void 0 ? _ref5 : -1,\n      zoomDelta: 0,\n      pixelDelta: undefined,\n      oldTiles: [],\n      showWarning: false,\n      warningType: undefined\n    };\n    return _this;\n  }\n\n  var _proto = Map.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    var _this2 = this;\n\n    this.props.mouseEvents && this.bindMouseEvents();\n    this.props.touchEvents && this.bindTouchEvents();\n\n    if (!this.props.width || !this.props.height) {\n      if (!this.updateWidthHeight()) {\n        requestAnimationFrame(this.updateWidthHeight);\n      }\n\n      this.bindResizeEvent();\n    }\n\n    this.bindWheelEvent();\n    this.syncToProps();\n\n    if (typeof window.ResizeObserver !== 'undefined') {\n      this._resizeObserver = new window.ResizeObserver(function () {\n        _this2.updateWidthHeight();\n      });\n\n      this._resizeObserver.observe(this._containerRef);\n    }\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    this.props.mouseEvents && this.unbindMouseEvents();\n    this.props.touchEvents && this.unbindTouchEvents();\n    this.unbindWheelEvent();\n\n    if (!this.props.width || !this.props.height) {\n      this.unbindResizeEvent();\n    }\n\n    if (this._resizeObserver) {\n      this._resizeObserver.disconnect();\n    }\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate(prevProps) {\n    var _prevProps$center;\n\n    if (this.props.mouseEvents !== prevProps.mouseEvents) {\n      this.props.mouseEvents ? this.bindMouseEvents() : this.unbindMouseEvents();\n    }\n\n    if (this.props.touchEvents !== prevProps.touchEvents) {\n      this.props.touchEvents ? this.bindTouchEvents() : this.unbindTouchEvents();\n    }\n\n    if (this.props.width && this.props.width !== prevProps.width) {\n      this.setState({\n        width: this.props.width\n      });\n    }\n\n    if (this.props.height && this.props.height !== prevProps.height) {\n      this.setState({\n        height: this.props.height\n      });\n    }\n\n    if (!this.props.center && !this.props.zoom) {\n      return;\n    }\n\n    if ((!this.props.center || this.props.center[0] === (prevProps === null || prevProps === void 0 ? void 0 : (_prevProps$center = prevProps.center) === null || _prevProps$center === void 0 ? void 0 : _prevProps$center[0]) && this.props.center[1] === prevProps.center[1]) && this.props.zoom === prevProps.zoom) {\n      return;\n    }\n\n    var currentCenter = this._isAnimating ? this._centerTarget : this.state.center;\n    var currentZoom = this._isAnimating ? this._zoomTarget : this.state.zoom;\n\n    if (currentCenter && currentZoom) {\n      var _this$props$center, _this$props$zoom;\n\n      var nextCenter = (_this$props$center = this.props.center) !== null && _this$props$center !== void 0 ? _this$props$center : currentCenter;\n      var nextZoom = (_this$props$zoom = this.props.zoom) !== null && _this$props$zoom !== void 0 ? _this$props$zoom : currentZoom;\n\n      if (Math.abs(nextZoom - currentZoom) > 0.001 || Math.abs(nextCenter[0] - currentCenter[0]) > 0.0001 || Math.abs(nextCenter[1] - currentCenter[1]) > 0.0001) {\n        this.setCenterZoomTarget(nextCenter, nextZoom, true);\n      }\n    }\n  };\n\n  _proto.coordsInside = function coordsInside(pixel) {\n    var _this$state10 = this.state,\n        width = _this$state10.width,\n        height = _this$state10.height;\n\n    if (pixel[0] < 0 || pixel[1] < 0 || pixel[0] >= width || pixel[1] >= height) {\n      return false;\n    }\n\n    var parent = this._containerRef;\n\n    if (parent) {\n      var pos = parentPosition(parent);\n      var element = document.elementFromPoint(pixel[0] + pos.x, pixel[1] + pos.y);\n      return parent === element || parent.contains(element);\n    } else {\n      return false;\n    }\n  };\n\n  _proto.tileValues = function tileValues(_ref6) {\n    var center = _ref6.center,\n        zoom = _ref6.zoom,\n        pixelDelta = _ref6.pixelDelta,\n        zoomDelta = _ref6.zoomDelta,\n        width = _ref6.width,\n        height = _ref6.height;\n    var roundedZoom = Math.round(zoom + (zoomDelta || 0));\n    var zoomDiff = zoom + (zoomDelta || 0) - roundedZoom;\n    var scale = Math.pow(2, zoomDiff);\n    var scaleWidth = width / scale;\n    var scaleHeight = height / scale;\n    var tileCenterX = lng2tile(center[1], roundedZoom) - (pixelDelta ? pixelDelta[0] / 256.0 / scale : 0);\n    var tileCenterY = lat2tile(center[0], roundedZoom) - (pixelDelta ? pixelDelta[1] / 256.0 / scale : 0);\n    var halfWidth = scaleWidth / 2 / 256.0;\n    var halfHeight = scaleHeight / 2 / 256.0;\n    var tileMinX = Math.floor(tileCenterX - halfWidth);\n    var tileMaxX = Math.floor(tileCenterX + halfWidth);\n    var tileMinY = Math.floor(tileCenterY - halfHeight);\n    var tileMaxY = Math.floor(tileCenterY + halfHeight);\n    return {\n      tileMinX: tileMinX,\n      tileMaxX: tileMaxX,\n      tileMinY: tileMinY,\n      tileMaxY: tileMaxY,\n      tileCenterX: tileCenterX,\n      tileCenterY: tileCenterY,\n      roundedZoom: roundedZoom,\n      zoomDelta: zoomDelta || 0,\n      scaleWidth: scaleWidth,\n      scaleHeight: scaleHeight,\n      scale: scale\n    };\n  };\n\n  _proto.renderTiles = function renderTiles() {\n    var _this3 = this;\n\n    var _this$state11 = this.state,\n        oldTiles = _this$state11.oldTiles,\n        width = _this$state11.width,\n        height = _this$state11.height;\n    var dprs = this.props.dprs;\n    var mapUrl = this.props.provider || osm;\n\n    var _this$tileValues = this.tileValues(this.state),\n        tileMinX = _this$tileValues.tileMinX,\n        tileMaxX = _this$tileValues.tileMaxX,\n        tileMinY = _this$tileValues.tileMinY,\n        tileMaxY = _this$tileValues.tileMaxY,\n        tileCenterX = _this$tileValues.tileCenterX,\n        tileCenterY = _this$tileValues.tileCenterY,\n        roundedZoom = _this$tileValues.roundedZoom,\n        scaleWidth = _this$tileValues.scaleWidth,\n        scaleHeight = _this$tileValues.scaleHeight,\n        scale = _this$tileValues.scale;\n\n    var tiles = [];\n\n    for (var i = 0; i < oldTiles.length; i++) {\n      var old = oldTiles[i];\n      var zoomDiff = old.roundedZoom - roundedZoom;\n\n      if (Math.abs(zoomDiff) > 4 || zoomDiff === 0) {\n        continue;\n      }\n\n      var pow = 1 / Math.pow(2, zoomDiff);\n      var xDiff = -(tileMinX - old.tileMinX * pow) * 256;\n      var yDiff = -(tileMinY - old.tileMinY * pow) * 256;\n\n      var _xMin = Math.max(old.tileMinX, 0);\n\n      var _yMin = Math.max(old.tileMinY, 0);\n\n      var _xMax = Math.min(old.tileMaxX, Math.pow(2, old.roundedZoom) - 1);\n\n      var _yMax = Math.min(old.tileMaxY, Math.pow(2, old.roundedZoom) - 1);\n\n      for (var x = _xMin; x <= _xMax; x++) {\n        for (var y = _yMin; y <= _yMax; y++) {\n          tiles.push({\n            key: x + \"-\" + y + \"-\" + old.roundedZoom,\n            url: mapUrl(x, y, old.roundedZoom),\n            srcSet: srcSet(dprs, mapUrl, x, y, old.roundedZoom),\n            left: xDiff + (x - old.tileMinX) * 256 * pow,\n            top: yDiff + (y - old.tileMinY) * 256 * pow,\n            width: 256 * pow,\n            height: 256 * pow,\n            active: false\n          });\n        }\n      }\n    }\n\n    var xMin = Math.max(tileMinX, 0);\n    var yMin = Math.max(tileMinY, 0);\n    var xMax = Math.min(tileMaxX, Math.pow(2, roundedZoom) - 1);\n    var yMax = Math.min(tileMaxY, Math.pow(2, roundedZoom) - 1);\n\n    for (var _x = xMin; _x <= xMax; _x++) {\n      for (var _y = yMin; _y <= yMax; _y++) {\n        tiles.push({\n          key: _x + \"-\" + _y + \"-\" + roundedZoom,\n          url: mapUrl(_x, _y, roundedZoom),\n          srcSet: srcSet(dprs, mapUrl, _x, _y, roundedZoom),\n          left: (_x - tileMinX) * 256,\n          top: (_y - tileMinY) * 256,\n          width: 256,\n          height: 256,\n          active: true\n        });\n      }\n    }\n\n    var boxStyle = {\n      width: scaleWidth,\n      height: scaleHeight,\n      position: 'absolute',\n      top: \"calc((100% - \" + height + \"px) / 2)\",\n      left: \"calc((100% - \" + width + \"px) / 2)\",\n      overflow: 'hidden',\n      willChange: 'transform',\n      transform: \"scale(\" + scale + \", \" + scale + \")\",\n      transformOrigin: 'top left'\n    };\n    var boxClassname = this.props.boxClassname || 'pigeon-tiles-box';\n    var left = -((tileCenterX - tileMinX) * 256 - scaleWidth / 2);\n    var top = -((tileCenterY - tileMinY) * 256 - scaleHeight / 2);\n    var tilesStyle = {\n      position: 'absolute',\n      width: (tileMaxX - tileMinX + 1) * 256,\n      height: (tileMaxY - tileMinY + 1) * 256,\n      willChange: 'transform',\n      transform: \"translate(\" + left + \"px, \" + top + \"px)\"\n    };\n    var Tile = this.props.tileComponent;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      style: boxStyle,\n      className: boxClassname\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"pigeon-tiles\",\n      style: tilesStyle\n    }, tiles.map(function (tile) {\n      return /*#__PURE__*/React.createElement(Tile, {\n        key: tile.key,\n        tile: tile,\n        tileLoaded: function tileLoaded() {\n          return _this3.tileLoaded(tile.key);\n        }\n      });\n    })));\n  };\n\n  _proto.renderOverlays = function renderOverlays() {\n    var _this4 = this;\n\n    var _this$state12 = this.state,\n        width = _this$state12.width,\n        height = _this$state12.height,\n        center = _this$state12.center;\n    var mapState = {\n      bounds: this.getBounds(),\n      zoom: this.zoomPlusDelta(),\n      center: center,\n      width: width,\n      height: height\n    };\n    var childrenWithProps = React.Children.map(this.props.children, function (child) {\n      if (!child) {\n        return null;\n      }\n\n      if (! /*#__PURE__*/React.isValidElement(child)) {\n        return child;\n      }\n\n      var _child$props = child.props,\n          anchor = _child$props.anchor,\n          position = _child$props.position,\n          offset = _child$props.offset;\n\n      var c = _this4.latLngToPixel(anchor || position || center);\n\n      return /*#__PURE__*/React.cloneElement(child, {\n        left: c[0] - (offset ? offset[0] : 0),\n        top: c[1] - (offset ? offset[1] : 0),\n        latLngToPixel: _this4.latLngToPixel,\n        pixelToLatLng: _this4.pixelToLatLng,\n        setCenterZoom: _this4.setCenterZoomForChildren,\n        mapProps: _this4.props,\n        mapState: mapState\n      });\n    });\n    var childrenStyle = {\n      position: 'absolute',\n      width: width,\n      height: height,\n      top: \"calc((100% - \" + height + \"px) / 2)\",\n      left: \"calc((100% - \" + width + \"px) / 2)\"\n    };\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"pigeon-overlays\",\n      style: childrenStyle\n    }, childrenWithProps);\n  };\n\n  _proto.renderAttribution = function renderAttribution() {\n    var _this$props4 = this.props,\n        attribution = _this$props4.attribution,\n        attributionPrefix = _this$props4.attributionPrefix;\n\n    if (attribution === false) {\n      return null;\n    }\n\n    var style = {\n      position: 'absolute',\n      bottom: 0,\n      right: 0,\n      fontSize: '11px',\n      padding: '2px 5px',\n      background: 'rgba(255, 255, 255, 0.7)',\n      fontFamily: \"'Helvetica Neue', Helvetica, Arial, sans-serif\",\n      color: '#333'\n    };\n    var linkStyle = {\n      color: '#0078A8',\n      textDecoration: 'none'\n    };\n    return /*#__PURE__*/React.createElement(\"div\", {\n      key: \"attr\",\n      className: \"pigeon-attribution\",\n      style: style\n    }, attributionPrefix === false ? null : /*#__PURE__*/React.createElement(\"span\", null, attributionPrefix || /*#__PURE__*/React.createElement(\"a\", {\n      href: \"https://pigeon-maps.js.org/\",\n      style: linkStyle,\n      target: \"_blank\",\n      rel: \"noreferrer noopener\"\n    }, \"Pigeon\"), ' | '), attribution || /*#__PURE__*/React.createElement(\"span\", null, ' © ', /*#__PURE__*/React.createElement(\"a\", {\n      href: \"https://www.openstreetmap.org/copyright\",\n      style: linkStyle,\n      target: \"_blank\",\n      rel: \"noreferrer noopener\"\n    }, \"OpenStreetMap\"), ' contributors'));\n  };\n\n  _proto.renderWarning = function renderWarning() {\n    var _this$props5 = this.props,\n        metaWheelZoom = _this$props5.metaWheelZoom,\n        metaWheelZoomWarning = _this$props5.metaWheelZoomWarning,\n        twoFingerDrag = _this$props5.twoFingerDrag,\n        twoFingerDragWarning = _this$props5.twoFingerDragWarning,\n        warningZIndex = _this$props5.warningZIndex;\n    var _this$state13 = this.state,\n        showWarning = _this$state13.showWarning,\n        warningType = _this$state13.warningType,\n        width = _this$state13.width,\n        height = _this$state13.height;\n\n    if (metaWheelZoom && metaWheelZoomWarning || twoFingerDrag && twoFingerDragWarning) {\n      var style = {\n        position: 'absolute',\n        top: 0,\n        left: 0,\n        width: width,\n        height: height,\n        overflow: 'hidden',\n        pointerEvents: 'none',\n        opacity: showWarning ? 100 : 0,\n        transition: 'opacity 300ms',\n        background: 'rgba(0,0,0,0.5)',\n        color: '#fff',\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'center',\n        fontSize: 22,\n        fontFamily: '\"Arial\", sans-serif',\n        textAlign: 'center',\n        zIndex: warningZIndex\n      };\n      var meta = typeof window !== 'undefined' && window.navigator && window.navigator.platform.toUpperCase().indexOf('MAC') >= 0 ? '⌘' : 'ctrl';\n      var warningText = warningType === 'fingers' ? twoFingerDragWarning : metaWheelZoomWarning;\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"pigeon-overlay-warning\",\n        style: style\n      }, warningText.replace('META', meta));\n    } else {\n      return null;\n    }\n  };\n\n  _proto.render = function render() {\n    var _this$props6 = this.props,\n        touchEvents = _this$props6.touchEvents,\n        twoFingerDrag = _this$props6.twoFingerDrag;\n    var _this$state14 = this.state,\n        width = _this$state14.width,\n        height = _this$state14.height;\n    var containerStyle = {\n      width: this.props.width ? width : '100%',\n      height: this.props.height ? height : '100%',\n      position: 'relative',\n      display: 'inline-block',\n      overflow: 'hidden',\n      background: '#dddddd',\n      touchAction: touchEvents ? twoFingerDrag ? 'pan-x pan-y' : 'none' : 'auto'\n    };\n    var hasSize = !!(width && height);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      style: containerStyle,\n      ref: this.setRef,\n      dir: \"ltr\"\n    }, hasSize && this.renderTiles(), hasSize && this.renderOverlays(), hasSize && this.renderAttribution(), hasSize && this.renderWarning());\n  };\n\n  return Map;\n}(Component);\n\n_defineProperty(Map, \"defaultProps\", {\n  animate: true,\n  metaWheelZoom: false,\n  metaWheelZoomWarning: 'Use META + wheel to zoom!',\n  twoFingerDrag: false,\n  twoFingerDragWarning: 'Use two fingers to move the map',\n  zoomSnap: true,\n  mouseEvents: true,\n  touchEvents: true,\n  warningZIndex: 100,\n  animateMaxScreens: 5,\n  minZoom: 1,\n  maxZoom: 18,\n  limitBounds: 'center',\n  dprs: [],\n  tileComponent: ImgTile\n});\n\nfunction Marker(props) {\n  var width = typeof props.width !== 'undefined' ? props.width : typeof props.height !== 'undefined' ? props.height * 29 / 34 : 29;\n  var height = typeof props.height !== 'undefined' ? props.height : typeof props.width !== 'undefined' ? props.width * 34 / 29 : 34;\n\n  var _useState = useState(props.hover || false),\n      internalHover = _useState[0],\n      setInternalHover = _useState[1];\n\n  var hover = typeof props.hover === 'undefined' ? internalHover : props.hover;\n  var color = props.color || '#93C0D0';\n\n  var eventParameters = function eventParameters(event) {\n    return {\n      event: event,\n      anchor: props.anchor,\n      payload: props.payload\n    };\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: _objectSpread2({\n      position: 'absolute',\n      transform: \"translate(\" + (props.left - width / 2) + \"px, \" + (props.top - (height - 1)) + \"px)\",\n      filter: hover ? 'drop-shadow(0 0 4px rgba(0, 0, 0, .3))' : '',\n      pointerEvents: 'none',\n      cursor: 'pointer'\n    }, props.style || {}),\n    className: props.className ? props.className + \" pigeon-click-block\" : 'pigeon-click-block',\n    onClick: props.onClick ? function (event) {\n      return props.onClick(eventParameters(event));\n    } : null,\n    onContextMenu: props.onContextMenu ? function (event) {\n      return props.onContextMenu(eventParameters(event));\n    } : null,\n    onMouseOver: function onMouseOver(event) {\n      props.onMouseOver && props.onMouseOver(eventParameters(event));\n      setInternalHover(true);\n    },\n    onMouseOut: function onMouseOut(event) {\n      props.onMouseOut && props.onMouseOut(eventParameters(event));\n      setInternalHover(false);\n    }\n  }, props.children || /*#__PURE__*/React.createElement(\"svg\", {\n    width: width,\n    height: height,\n    viewBox: \"0 0 61 71\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\"\n  }, /*#__PURE__*/React.createElement(\"g\", {\n    style: {\n      pointerEvents: 'auto'\n    }\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M52 31.5C52 36.8395 49.18 42.314 45.0107 47.6094C40.8672 52.872 35.619 57.678 31.1763 61.6922C30.7916 62.0398 30.2084 62.0398 29.8237 61.6922C25.381 57.678 20.1328 52.872 15.9893 47.6094C11.82 42.314 9 36.8395 9 31.5C9 18.5709 18.6801 9 30.5 9C42.3199 9 52 18.5709 52 31.5Z\",\n    fill: color,\n    stroke: \"white\",\n    strokeWidth: \"4\"\n  }), /*#__PURE__*/React.createElement(\"circle\", {\n    cx: \"30.5\",\n    cy: \"30.5\",\n    r: \"8.5\",\n    fill: \"white\",\n    opacity: hover ? 0.98 : 0.6\n  }))));\n}\n\nfunction Overlay(props) {\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: _objectSpread2({\n      position: 'absolute',\n      transform: \"translate(\" + props.left + \"px, \" + props.top + \"px)\"\n    }, props.style || {}),\n    className: props.className ? props.className + \" pigeon-click-block\" : 'pigeon-click-block'\n  }, props.children);\n}\n\nvar defaultSvgAttributes = {\n  fill: '#93c0d099',\n  strokeWidth: '2',\n  stroke: 'white',\n  r: '30'\n};\nfunction PointComponent(props) {\n  var latLngToPixel = props.latLngToPixel;\n  var _props$coordinates = props.coordinates,\n      y = _props$coordinates[0],\n      x = _props$coordinates[1];\n\n  var _latLngToPixel = latLngToPixel([x, y]),\n      cx = _latLngToPixel[0],\n      cy = _latLngToPixel[1];\n\n  return /*#__PURE__*/React.createElement(\"circle\", _objectSpread2({\n    cx: cx,\n    cy: cy\n  }, props.svgAttributes));\n}\nfunction MultiPoint(props) {\n  return /*#__PURE__*/React.createElement(React.Fragment, null, props.coordinates.map(function (point, i) {\n    return /*#__PURE__*/React.createElement(PointComponent, _objectSpread2(_objectSpread2({}, props), {}, {\n      coordinates: point,\n      key: i\n    }));\n  }));\n}\nfunction LineString(props) {\n  var latLngToPixel = props.latLngToPixel;\n  var p = 'M' + props.coordinates.reduce(function (a, _ref) {\n    var y = _ref[0],\n        x = _ref[1];\n\n    var _latLngToPixel2 = latLngToPixel([x, y]),\n        v = _latLngToPixel2[0],\n        w = _latLngToPixel2[1];\n\n    return a + ' ' + v + ' ' + w;\n  }, '');\n  return /*#__PURE__*/React.createElement(\"path\", _objectSpread2({\n    d: p\n  }, props.svgAttributes));\n}\nfunction MultiLineString(props) {\n  return /*#__PURE__*/React.createElement(React.Fragment, null, props.coordinates.map(function (line, i) {\n    return /*#__PURE__*/React.createElement(LineString, {\n      coordinates: line,\n      key: i\n    });\n  }));\n}\nfunction Polygon(props) {\n  var latLngToPixel = props.latLngToPixel;\n  var p = props.coordinates.reduce(function (a, part) {\n    return a + ' M' + part.reduce(function (a, _ref2) {\n      var y = _ref2[0],\n          x = _ref2[1];\n\n      var _latLngToPixel3 = latLngToPixel([x, y]),\n          v = _latLngToPixel3[0],\n          w = _latLngToPixel3[1];\n\n      return a + ' ' + v + ' ' + w;\n    }, '') + 'Z';\n  }, '');\n  return /*#__PURE__*/React.createElement(\"path\", _objectSpread2({\n    d: p\n  }, props.svgAttributes));\n}\nfunction MultiPolygon(props) {\n  return /*#__PURE__*/React.createElement(React.Fragment, null, props.coordinates.map(function (polygon, i) {\n    return /*#__PURE__*/React.createElement(Polygon, _objectSpread2(_objectSpread2({}, props), {}, {\n      coordinates: polygon,\n      key: i\n    }));\n  }));\n}\nfunction GeometryCollection(props) {\n  var renderer = {\n    Point: PointComponent,\n    MultiPoint: MultiPoint,\n    LineString: LineString,\n    MultiLineString: MultiLineString,\n    Polygon: Polygon,\n    MultiPolygon: MultiPolygon\n  };\n  var _props$geometry = props.geometry,\n      type = _props$geometry.type,\n      coordinates = _props$geometry.coordinates,\n      geometries = _props$geometry.geometries;\n\n  if (type === 'GeometryCollection') {\n    return /*#__PURE__*/React.createElement(React.Fragment, null, geometries.map(function (geometry, i) {\n      return /*#__PURE__*/React.createElement(GeometryCollection, _objectSpread2(_objectSpread2({\n        key: i\n      }, props), {}, {\n        geometry: geometry\n      }));\n    }));\n  }\n\n  var Component = renderer[type];\n\n  if (Component === undefined) {\n    console.warn(\"The GeoJson Type \" + type + \" is not known\");\n    return null;\n  }\n\n  return /*#__PURE__*/React.createElement(Component, {\n    latLngToPixel: props.latLngToPixel,\n    geometry: props.geometry,\n    coordinates: coordinates,\n    svgAttributes: props.svgAttributes\n  });\n}\nfunction GeoJsonFeature(props) {\n  var _useState = useState(props.hover || false),\n      internalHover = _useState[0],\n      setInternalHover = _useState[1];\n\n  var hover = props.hover !== undefined ? props.hover : internalHover;\n  var callbackSvgAttributes = props.styleCallback && props.styleCallback(props.feature, hover);\n  var svgAttributes = callbackSvgAttributes ? props.svgAttributes ? _objectSpread2(_objectSpread2({}, props.svgAttributes), callbackSvgAttributes) : callbackSvgAttributes : props.svgAttributes ? props.svgAttributes : defaultSvgAttributes;\n\n  var eventParameters = function eventParameters(event) {\n    return {\n      event: event,\n      anchor: props.anchor,\n      payload: props.feature\n    };\n  };\n\n  return /*#__PURE__*/React.createElement(\"g\", {\n    clipRule: \"evenodd\",\n    style: {\n      pointerEvents: 'auto'\n    },\n    onClick: props.onClick ? function (event) {\n      return props.onClick(eventParameters(event));\n    } : null,\n    onContextMenu: props.onContextMenu ? function (event) {\n      return props.onContextMenu(eventParameters(event));\n    } : null,\n    onMouseOver: function onMouseOver(event) {\n      props.onMouseOver && props.onMouseOver(eventParameters(event));\n      setInternalHover(true);\n    },\n    onMouseOut: function onMouseOut(event) {\n      props.onMouseOut && props.onMouseOut(eventParameters(event));\n      setInternalHover(false);\n    }\n  }, /*#__PURE__*/React.createElement(GeometryCollection, _objectSpread2(_objectSpread2(_objectSpread2({}, props), props.feature), {}, {\n    svgAttributes: svgAttributes\n  })));\n}\nfunction GeoJson(props) {\n  var _props$mapState = props.mapState,\n      width = _props$mapState.width,\n      height = _props$mapState.height;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: _objectSpread2({\n      position: 'absolute',\n      left: '0',\n      top: '0',\n      pointerEvents: 'none',\n      cursor: 'pointer'\n    }, props.style || {}),\n    className: props.className ? props.className + \" pigeon-click-block\" : 'pigeon-click-block'\n  }, /*#__PURE__*/React.createElement(\"svg\", {\n    width: width,\n    height: height,\n    viewBox: \"0 0 \" + width + \" \" + height,\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\"\n  }, props.data && props.data.features.map(function (feature, i) {\n    return /*#__PURE__*/React.createElement(GeoJsonFeature, _objectSpread2(_objectSpread2({\n      key: i\n    }, props), {}, {\n      feature: feature\n    }));\n  }), React.Children.map(props.children, function (child) {\n    if (!child) {\n      return null;\n    }\n\n    if (! /*#__PURE__*/React.isValidElement(child)) {\n      return child;\n    }\n\n    return /*#__PURE__*/React.cloneElement(child, props);\n  })));\n}\nfunction GeoJsonLoader(props) {\n  var _useState2 = useState(props.data ? props.data : null),\n      data = _useState2[0],\n      setData = _useState2[1];\n\n  useEffect(function () {\n    fetch(props.link).then(function (response) {\n      return response.json();\n    }).then(function (data) {\n      return setData(data);\n    });\n  }, [props.link]);\n  return data ? /*#__PURE__*/React.createElement(GeoJson, _objectSpread2({\n    data: data\n  }, props)) : null;\n}\n\nfunction isDescendentOf(element, ancestor) {\n  while (element) {\n    if (element === ancestor) {\n      return true;\n    }\n\n    element = element.parentElement;\n  }\n\n  return false;\n}\n\nvar defaultState = {\n  isDragging: false,\n  startX: undefined,\n  startY: undefined,\n  startLeft: undefined,\n  startTop: undefined,\n  deltaX: 0,\n  deltaY: 0\n};\nfunction Draggable(props) {\n  var dragRef = useRef();\n  var propsRef = useRef(props);\n  var stateRef = useRef(_objectSpread2({}, defaultState));\n\n  var _useState = useState(defaultState),\n      _state = _useState[0],\n      _setState = _useState[1];\n\n  propsRef.current = props;\n\n  var setState = function setState(stateUpdate) {\n    var newState = _objectSpread2(_objectSpread2({}, stateRef.current), stateUpdate);\n\n    stateRef.current = newState;\n\n    _setState(newState);\n  };\n\n  var _props$mapProps = props.mapProps,\n      mouseEvents = _props$mapProps.mouseEvents,\n      touchEvents = _props$mapProps.touchEvents;\n  useEffect(function () {\n    var handleDragStart = function handleDragStart(event) {\n      if (isDescendentOf(event.target, dragRef.current)) {\n        event.preventDefault();\n        setState({\n          isDragging: true,\n          startX: ('touches' in event ? event.touches[0] : event).clientX,\n          startY: ('touches' in event ? event.touches[0] : event).clientY,\n          startLeft: propsRef.current.left,\n          startTop: propsRef.current.top,\n          deltaX: 0,\n          deltaY: 0\n        });\n\n        if (propsRef.current.onDragStart) {\n          var _propsRef$current = propsRef.current,\n              _left = _propsRef$current.left,\n              _top = _propsRef$current.top,\n              offset = _propsRef$current.offset,\n              pixelToLatLng = _propsRef$current.pixelToLatLng;\n          propsRef.current.onDragMove(pixelToLatLng([_left + (offset ? offset[0] : 0), _top + (offset ? offset[1] : 0)]));\n        }\n      }\n    };\n\n    var handleDragMove = function handleDragMove(event) {\n      if (!stateRef.current.isDragging) {\n        return;\n      }\n\n      event.preventDefault();\n      var x = ('touches' in event ? event.touches[0] : event).clientX;\n      var y = ('touches' in event ? event.touches[0] : event).clientY;\n      var deltaX = x - stateRef.current.startX;\n      var deltaY = y - stateRef.current.startY;\n      setState({\n        deltaX: deltaX,\n        deltaY: deltaY\n      });\n\n      if (propsRef.current.onDragMove) {\n        var _propsRef$current2 = propsRef.current,\n            offset = _propsRef$current2.offset,\n            pixelToLatLng = _propsRef$current2.pixelToLatLng;\n        var _stateRef$current = stateRef.current,\n            _startLeft = _stateRef$current.startLeft,\n            _startTop = _stateRef$current.startTop;\n        propsRef.current.onDragMove(pixelToLatLng([_startLeft + deltaX + (offset ? offset[0] : 0), _startTop + deltaY + (offset ? offset[1] : 0)]));\n      }\n    };\n\n    var handleDragEnd = function handleDragEnd(event) {\n      var _propsRef$current$onD, _propsRef$current4;\n\n      if (!stateRef.current.isDragging) {\n        return;\n      }\n\n      event.preventDefault();\n      var _propsRef$current3 = propsRef.current,\n          offset = _propsRef$current3.offset,\n          pixelToLatLng = _propsRef$current3.pixelToLatLng;\n      var _stateRef$current2 = stateRef.current,\n          deltaX = _stateRef$current2.deltaX,\n          deltaY = _stateRef$current2.deltaY,\n          startLeft = _stateRef$current2.startLeft,\n          startTop = _stateRef$current2.startTop;\n      (_propsRef$current$onD = (_propsRef$current4 = propsRef.current).onDragEnd) === null || _propsRef$current$onD === void 0 ? void 0 : _propsRef$current$onD.call(_propsRef$current4, pixelToLatLng([startLeft + deltaX + (offset ? offset[0] : 0), startTop + deltaY + (offset ? offset[1] : 0)]));\n      setState({\n        isDragging: false,\n        startX: undefined,\n        startY: undefined,\n        startLeft: undefined,\n        startTop: undefined,\n        deltaX: 0,\n        deltaY: 0\n      });\n    };\n\n    var wa = function wa(e, t, o) {\n      return window.addEventListener(e, t, o);\n    };\n\n    var wr = function wr(e, t) {\n      return window.removeEventListener(e, t);\n    };\n\n    if (mouseEvents) {\n      wa('mousedown', handleDragStart);\n      wa('mousemove', handleDragMove);\n      wa('mouseup', handleDragEnd);\n    }\n\n    if (touchEvents) {\n      wa('touchstart', handleDragStart, {\n        passive: false\n      });\n      wa('touchmove', handleDragMove, {\n        passive: false\n      });\n      wa('touchend', handleDragEnd, {\n        passive: false\n      });\n    }\n\n    return function () {\n      if (mouseEvents) {\n        wr('mousedown', handleDragStart);\n        wr('mousemove', handleDragMove);\n        wr('mouseup', handleDragEnd);\n      }\n\n      if (touchEvents) {\n        wr('touchstart', handleDragStart);\n        wr('touchmove', handleDragMove);\n        wr('touchend', handleDragEnd);\n      }\n    };\n  }, [mouseEvents, touchEvents]);\n  var left = props.left,\n      top = props.top,\n      className = props.className,\n      style = props.style;\n  var deltaX = _state.deltaX,\n      deltaY = _state.deltaY,\n      startLeft = _state.startLeft,\n      startTop = _state.startTop,\n      isDragging = _state.isDragging;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: _objectSpread2(_objectSpread2({\n      cursor: isDragging ? 'grabbing' : 'grab'\n    }, style || {}), {}, {\n      position: 'absolute',\n      transform: \"translate(\" + (isDragging ? startLeft + deltaX : left) + \"px, \" + (isDragging ? startTop + deltaY : top) + \"px)\"\n    }),\n    ref: dragRef,\n    className: \"pigeon-drag-block\" + (className ? \" \" + className : '')\n  }, props.children);\n}\n\nvar commonStyle = {\n  position: 'absolute',\n  top: 10,\n  left: 10\n};\nvar commonButtonStyle = {\n  width: 28,\n  height: 28,\n  borderRadius: 2,\n  boxShadow: '0 1px 4px -1px rgba(0,0,0,.3)',\n  background: 'white',\n  lineHeight: '26px',\n  fontSize: '20px',\n  fontWeight: 700,\n  color: '#666',\n  marginBottom: 1,\n  cursor: 'pointer',\n  border: 'none',\n  display: 'block',\n  outline: 'none'\n};\nfunction ZoomControl(_ref) {\n  var style = _ref.style,\n      buttonStyle = _ref.buttonStyle,\n      setCenterZoom = _ref.setCenterZoom,\n      mapState = _ref.mapState,\n      mapProps = _ref.mapProps;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"pigeon-zoom-buttons pigeon-drag-block\",\n    style: style ? _objectSpread2(_objectSpread2({}, commonStyle), style) : commonStyle\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"pigeon-zoom-in\",\n    type: \"button\",\n    style: buttonStyle ? _objectSpread2(_objectSpread2({}, commonButtonStyle), buttonStyle) : commonButtonStyle,\n    onClick: function onClick() {\n      return setCenterZoom(mapState.center, Math.min(mapState.zoom + 1, mapProps.maxZoom));\n    }\n  }, \"+\"), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"pigeon-zoom-out\",\n    type: \"button\",\n    style: buttonStyle ? _objectSpread2(_objectSpread2({}, commonButtonStyle), buttonStyle) : commonButtonStyle,\n    onClick: function onClick() {\n      return setCenterZoom(mapState.center, Math.max(mapState.zoom - 1, mapProps.minZoom));\n    }\n  }, \"\\u2013\"));\n}\n\nexport { Draggable, GeoJson, GeoJsonFeature, GeoJsonLoader, Map, Marker, Overlay, ZoomControl };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}